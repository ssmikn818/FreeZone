import React, { useState, useEffect, useMemo, useCallback, RefObject } from 'react';
import { Tab } from '../types';
import { DocumentTextIcon, ShareIcon, SignatureIcon, ShieldCheckIcon, DocumentDuplicateIcon, ScaleIcon, PlusIcon, LightBulbIcon, CheckCircleIcon, ScopeIcon, RevisionsIcon, DollarIcon, IPRightsIcon, TerminationIcon, FeedbackIcon, ClipboardIcon, PrinterIcon, XMarkIcon, QuestionMarkCircleIcon, PencilSquareIcon, ArrowLeftIcon, PaletteIcon, CodeIcon, BriefcaseIcon, ClockIcon, BellIcon, CheckBadgeIcon, AnalysisValidIcon, AnalysisInvalidIcon } from './Icons';

interface LandingPageProps {
  contractRef: RefObject<HTMLDivElement>;
  onGoToContract: () => void;
}

const INDUSTRY_OPTIONS = ['디자인', 'IT/개발', '영상/미디어', '글/콘텐츠', '마케팅', '번역', '컨설팅/교육'];

const TASK_OPTIONS: Record<string, string[]> = {
  '디자인': ['로고/브랜딩 디자인', '웹/앱 UI/UX 디자인', '상세페이지/광고 디자인', '캐릭터/일러스트', '인쇄/출판물 디자인'],
  'IT/개발': ['웹사이트 개발', '모바일 앱 개발', '백엔드/API 개발', '데이터 분석/AI', '퍼블리싱/QA'],
  '영상/미디어': ['유튜브 영상 편집', '광고/홍보 영상 제작', '모션그래픽/애니메이션', '촬영/드론 촬영'],
  '글/콘텐츠': ['블로그/SNS 원고', '카피라이팅', '기술/전문 분야 글쓰기', '대본/시나리오 작성'],
  '마케팅': ['SNS 채널 운영', '퍼포먼스 마케팅', 'SEO/콘텐츠 마케팅', '브랜드 마케팅'],
  '번역': ['일반/비즈니스 번역', '영상/자막 번역', '전문/기술 번역', '순차/동시 통역'],
  '컨설팅/교육': ['비즈니스 컨설팅', '커리어/진로 코칭', '온라인 강의 제작', '외국어/전문 과외'],
};

const DELIVERABLE_OPTIONS: Record<string, string[]> = {
    // 디자인
    '로고/브랜딩 디자인': ['AI 원본 파일', 'PNG/JPG 파일', '브랜드 가이드라인 PDF'],
    '웹/앱 UI/UX 디자인': ['Figma/XD 원본 파일', '디자인 시스템 가이드', '프로토타입 링크'],
    '상세페이지/광고 디자인': ['PSD/AI 원본 파일', '웹용 JPG 파일', '폰트 라이선스 정보'],
    '캐릭터/일러스트': ['고해상도 원본 파일 (PSD/AI)', '용도별 이미지 파일 (PNG/JPG)', '캐릭터 응용동작 3종'],
    '인쇄/출판물 디자인': ['인쇄용 PDF 파일', 'InDesign/Illustrator 원본 파일', '사양 정보(칼선, 후가공 등)'],
    
    // IT/개발
    '웹사이트 개발': ['전체 소스코드', '개발 산출물 문서', '서버 배포 지원'],
    '모바일 앱 개발': ['전체 소스코드', 'API 명세서', '스토어 심사 지원'],
    '백엔드/API 개발': ['API 명세서 (Swagger/Postman)', '서버 소스코드', '데이터베이스 스키마'],
    '데이터 분석/AI': ['분석 보고서 (PPT/PDF)', '데이터 시각화 대시보드', '모델링 소스코드 (Jupyter 등)'],
    '퍼블리싱/QA': ['HTML/CSS/JS 산출물', '크로스브라우징 테스트 결과서', 'QA 시나리오 및 결과 보고서'],
    
    // 영상/미디어
    '유튜브 영상 편집': ['최종 영상 파일 (MP4, 1080p)', '프로젝트 원본 파일 (선택사항)', '썸네일 이미지 파일'],
    '광고/홍보 영상 제작': ['최종 영상 파일 (매체별 규격)', '클린본 (자막/음악 제외)', '프로젝트 원본 파일'],
    '모션그래픽/애니메이션': ['최종 영상 파일 (MP4/MOV)', 'After Effects/Cinema 4D 원본 파일', '주요 그래픽 소스'],
    '촬영/드론 촬영': ['편집용 원본 영상 (로그 촬영본)', '정리된 클립 데이터', '현장 스케치 사진'],
    
    // 글/콘텐츠
    '블로그/SNS 원고': ['원고 HWP/DOCX 파일', '포스팅용 이미지 파일', '검수 확인서'],
    '카피라이팅': ['최종 카피 문구 리스트 (슬로건, 광고 문구 등)', '활용 가이드라인', '시안별 컨셉 설명'],
    '기술/전문 분야 글쓰기': ['최종 원고 (지정 형식)', '참고문헌 리스트', '관련 이미지/도표 자료'],
    '대본/시나리오 작성': ['최종 대본/시나리오 파일', '등장인물 및 설정 자료', '트리트먼트/시놉시스'],
    
    // 마케팅
    'SNS 채널 운영': ['월간 콘텐츠 캘린더', '채널 데이터 분석 보고서', '원본 이미지/영상 파일'],
    '퍼포먼스 마케팅': ['매체별 성과 보고서', '광고 소재 파일', '캠페인 세팅 내역'],
    'SEO/콘텐츠 마케팅': ['키워드 분석 보고서', '최적화된 콘텐츠 원고', '백링크 작업 현황 보고서'],
    '브랜드 마케팅': ['브랜드 전략 기획서', '캠페인 실행안 및 결과 보고서', '시장 조사 자료'],
    
    // 번역
    '일반/비즈니스 번역': ['번역본 파일 (원본 형식 유지)', '용어집(Glossary)', '번역가 확인서'],
    '영상/자막 번역': ['자막 파일 (SRT 형식)', '타임코드 포함 대본', '번역 노트'],
    '전문/기술 번역': ['최종 번역본', '원문/번역문 대조표', '감수 확인서'],
    '순차/동시 통역': ['행사 개요 및 발표 자료', '사전 협의 회의록', '통역 결과 보고서 (요청 시)'],

    // 컨설팅/교육
    '비즈니스 컨설팅': ['최종 컨설팅 보고서', '실행 계획(Action Plan)', '관련 시장 분석 자료'],
    '커리어/진로 코칭': ['개인별 코칭 결과 보고서', '이력서/자소서 첨삭본', '추천 액션 플랜'],
    '온라인 강의 제작': ['강의 영상 파일', '강의 교안 (PDF)', '관련 퀴즈 및 과제 자료'],
    '외국어/전문 과외': ['수업 계획서', '월별 학습 경과 보고서', '자체 제작 학습 자료'],
};


const CLAUSE_PLACEHOLDERS: Record<string, string> = {
    revisions: '예: 최초 시안 확인 후 1회, 최종 시안 확정 후 1회로 총 2회 수정을 기본으로 제공합니다.',
    payment: '예: 선금 50% (계약 체결 후 3일 이내), 잔금 50% (최종 산출물 검수 완료 후 3일 이내).',
    ip: '예: 최종 선택된 결과물에 대한 저작재산권은 잔금 지급 완료 시 의뢰인에게 귀속됩니다.',
    termination: '예: 의뢰인의 단순 변심으로 계약 해지 시, 선금은 환불되지 않습니다.',
    feedback: '예: 각 시안 발송 후 3 영업일 이내에 피드백을 제공하며, 지정된 채널(예: 이메일, 슬랙)로 통합하여 전달합니다.',
    review: '예: 본 계약과 관련하여 알게 된 상호의 모든 정보는 외부에 유출하지 않으며, 계약 종료 후 3년간 비밀유지 의무를 가집니다.',
};

const CLAUSE_TIPS: Record<string, string> = {
    scope: "작업 범위를 명확히 할수록 '이것도 해주세요'라는 추가 요청을 방지할 수 있어요.",
    revisions: "수정 횟수와 추가 비용을 명시하는 것은 끝없는 수정을 막는 가장 효과적인 방법입니다.",
    payment: "대금 지급 시점과 방식을 명확히 해야 안정적인 수입을 계획하고 미수금 위험을 줄일 수 있습니다.",
    ip: "저작권 귀속과 포트폴리오 사용 권한을 명시해야 나의 소중한 작업물을 자산으로 활용하고 분쟁을 막을 수 있습니다.",
    termination: "계약이 중도에 해지될 경우를 대비해 책임 소재와 비용 정산 기준을 정해두어야 손해를 보지 않습니다.",
    feedback: "명확한 피드백 기한과 소통 채널 지정은 프로젝트 지연을 막고, 모든 커뮤니케이션 기록을 남겨 분쟁을 예방합니다.",
    review: "비밀유지 의무, 하자보수 기간 등 프로젝트의 특수성을 반영한 내용을 추가하여 예상치 못한 분쟁을 예방하세요.",
};

const numberToKoreanWon = (num: number): string => {
    if (typeof num !== 'number' || isNaN(num)) return '';
    if (num === 0) return '영';
    
    const numStr = String(num);
    if (num >= 10000000000000000) return '금액이 너무 큽니다.';

    const units = ['', '만', '억', '조', '경'];
    const digits = ['', '일', '이', '삼', '사', '오', '육', '칠', '팔', '구'];
    const smallUnits = ['', '십', '백', '천'];
    
    let result = '';
    let unitIndex = 0;
    
    for (let i = numStr.length; i > 0; i -= 4) {
        let chunkStr = numStr.substring(Math.max(0, i - 4), i);
        if (!chunkStr) continue;

        let chunkKorean = '';
        for (let j = 0; j < chunkStr.length; j++) {
            const digit = parseInt(chunkStr[j]);
            if (digit > 0) {
                chunkKorean += digits[digit];
                if (j < chunkStr.length - 1) {
                    chunkKorean += smallUnits[chunkStr.length - 1 - j];
                }
            }
        }
        
        if (chunkKorean) {
          chunkKorean = chunkKorean.replace(/일([십백천])/g, '$1');
          result = chunkKorean + units[unitIndex] + result;
        }
        
        unitIndex++;
    }

    return result.trim() || '영';
};

const getClauseGuidance = (projectValue: number) => {
    const commonClauses = {
        termination: [
            {
                title: '표준형: 귀책사유 기준',
                suggestion: '의뢰인의 단순 변심으로 계약 해지 시, 선금은 환불되지 않습니다。\n작업자의 귀책 사유로 계약 이행이 불가능할 경우, 선금 전액을 환불하고 총 계약금액의 20%를 손해배상금으로 지급합니다.',
                rationale: `🤔 문제점: 일방적인 계약 파기는 양측 모두에게 금전적, 시간적 손해를 야기합니다。\n\n💡 해결책: 각 당사자의 귀책사유에 따른 책임 범위를 명확히 하여 부당한 계약 파기를 방지하고, 분쟁 발생 시 해결 기준을 제시합니다.`,
            },
             {
                title: '대안형: 진행 단계별 정산',
                suggestion: '계약 해지 시점까지 진행된 작업량에 대해 상호 합의하여 정산합니다. (예: 기획 30%, 디자인 70% 등) 단, 의뢰인의 귀책사유로 인한 해지 시 총 계약금액의 10%가 위약금으로 추가 발생합니다.',
                rationale: `🤔 문제점: 장기 프로젝트의 경우, 중도 해지 시 기여도 산정이 어렵습니다。\n\n💡 해결책: 사전에 단계별 작업 가치를 정해둠으로써, 중도 해지 시 정산 기준을 명확히 하여 분쟁을 최소화합니다.`
            },
        ],
        feedback: [
            {
                title: '표준형: 효율적인 소통',
                suggestion: '각 단계별 결과물 공유 후 3 영업일 이내에 피드백을 제공합니다. 피드백은 지정된 채널(예: 이메일, 슬랙)로 일원화하여 전달하며, 구두 요청은 효력이 없습니다.',
                rationale: `🤔 문제점: 피드백 지연과 분산된 소통은 프로젝트 지연의 주된 원인입니다。\n\n💡 해결책: 명확한 피드백 기한과 소통 채널 지정은 프로젝트 지연을 막고, 모든 커뮤니케이션 기록을 남겨 분쟁을 예방합니다.`
            },
             {
                title: '대안형: 정기 미팅 의무화',
                suggestion: '주 1회(예: 매주 월요일 오전 10시) 정기적인 미팅을 통해 진행 상황을 공유하고 주요 의사결정을 합니다. 미팅 불참 시 서면으로 사유를 공유해야 하며, 2회 이상 무단 불참 시 계약 불이행으로 간주될 수 있습니다.',
                rationale: `🤔 문제점: 중요한 논의가 제때 이루어지지 않아 프로젝트가 산으로 가는 경우가 많습니다。\n\n💡 해결책: 정기적인 소통 채널을 의무화하여 책임감을 높이고, 프로젝트 방향성을 일관되게 유지합니다.`
            },
        ],
        review: [
            {
                title: '표준형: 비밀유지 의무',
                suggestion: '양 당사자는 본 계약과 관련하여 알게 된 상대방의 영업상, 기술상 비밀을 제3자에게 누설해서는 안 되며, 이 의무는 계약 종료 후 3년간 유효합니다.',
                rationale: `🤔 문제점: 프로젝트 과정에서 공유되는 민감 정보가 유출될 경우, 심각한 사업적 피해가 발생할 수 있습니다。\n\n💡 해결책: 상호 신뢰를 구축하고, 양측의 핵심 자산을 보호하기 위한 필수적인 법적 장치입니다.`,
            },
            {
                title: '대안형: 하자보수 기간 명시',
                suggestion: '최종 산출물 검수 완료 후 1개월간, 계약 범위 내 기능의 오류 및 버그에 대한 하자보수를 무상으로 지원합니다. 단, 기획 변경 및 기능 추가는 별도 계약으로 진행합니다.',
                rationale: `🤔 문제점: 프로젝트 완료 후 발생하는 사소한 오류에 대한 책임 소재가 불분명하여 분쟁이 발생할 수 있습니다。\n\n💡 해결책: 명확한 하자보수 기간과 범위를 설정하여 클라이언트 만족도를 높이고, 추가 작업에 대한 분쟁을 예방합니다.`
            },
        ]
    };

    const payment55 = {
        title: '표준형: 5:5 분할',
        suggestion: `총 계약금액: ${projectValue.toLocaleString()}원 (VAT 별도)\n- 선금(50%): 계약 체결 후 3일 이내 (${(projectValue * 0.5).toLocaleString()}원)\n- 잔금(50%): 최종 산출물 검수 완료 후 3일 이내 (${(projectValue * 0.5).toLocaleString()}원)`,
        rationale: `🤔 문제점: 대금 지급 방식이 불명확하면 미수금 발생의 위험이 커집니다。\n\n💡 해결책: 선금으로 초기 리소스를 확보하고, 잔금으로 최종 결과물에 대한 권리를 보장받는 가장 표준적인 방식입니다.`,
    };
    
    const payment343 = {
        title: '표준형: 3단계 분할',
        suggestion: `총 계약금액: ${projectValue.toLocaleString()}원 (VAT 별도)\n- 계약금(30%): 계약 체결 시 (${(projectValue * 0.3).toLocaleString()}원)\n- 중도금(40%): 중간 산출물(예: 시안, 1차 개발본) 검수 완료 시 (${(projectValue * 0.4).toLocaleString()}원)\n- 잔금(30%): 최종 산출물 검수 완료 시 (${(projectValue * 0.3).toLocaleString()}원)`,
        rationale: `🤔 문제점: 장기 프로젝트에서 대금 지급이 마지막에 몰려있으면, 작업자의 현금 흐름이 불안정해집니다。\n\n💡 해결책: 프로젝트 단계를 나누어 대금을 지급함으로써 현금 흐름을 안정시키고, 각 단계별 완료에 대한 상호 동의를 이끌어냅니다.`,
    };
    
    const monthlyPayment = {
        title: '표준형: 월 단위 정산',
        suggestion: `매월 말일에 해당 월의 용역 수행 내역을 기준으로 ${projectValue.toLocaleString()}원을 정산하여, 익월 5일까지 지급합니다. (세금계산서 발행 후)`,
        rationale: `🤔 문제점: 장기적인 운영/관리 계약에서 대금 지급일이 불규칙하면 예측 가능한 수입 관리가 어렵습니다。\n\n💡 해결책: 매월 정해진 날짜에 대금을 지급받아 안정적인 현금 흐름을 확보하고, 장기적인 파트너십을 유지합니다.`,
    };

    const ipPortfolio = {
        title: '표준형: 포트폴리오 사용 허용',
        suggestion: '최종 선택된 결과물에 대한 저작재산권은 잔금 지급 완료 시 의뢰인에게 귀속됩니다. 단, 작업자는 해당 결과물을 자신의 포트폴리오로 사용할 수 있습니다.',
        rationale: `🤔 문제점: 작업물의 소유권이 불분명하면, 2차 가공이나 상업적 이용 시 분쟁이 발생할 수 있습니다。\n\n💡 해결책: 잔금 지급과 저작권 이전을 명시하고, 프리랜서의 포트폴리오 사용 권한을 보장하여 양측의 권리를 보호합니다.`,
    };
    
    const ipPortfolioFee = {
        title: '대안형: 포트폴리오 비공개',
        suggestion: '의뢰인의 요청으로 포트폴리오 사용이 불가능할 경우, 총 계약 금액의 20%에 해당하는 추가 비용이 발생합니다. 이는 작업자의 경력 증빙 및 홍보 기회비용을 보전하기 위함입니다.',
        rationale: `🤔 문제점: 프리랜서에게 포트폴리오는 핵심적인 영업 자산이므로, 비공개 요청은 작업자에게 기회비용을 발생시킵니다。\n\n💡 해결책: 포트폴리오의 가치를 금전적으로 명시하여, 클라이언트의 비밀유지 요구를 수용하면서 작업자의 기회비용을 보상하는 합리적인 방식입니다.`,
    };
    
     const ipClientOwned = {
        title: '표준형: 전체 권리 양도',
        suggestion: '잔금 지급 완료 시, 본 계약을 통해 제작된 모든 산출물(소스코드, 문서, 디자인 등)에 대한 저작재산권 일체는 의뢰인에게 귀속됩니다.',
        rationale: `🤔 문제점: 프로젝트 결과물의 소유권이 불명확하면, 향후 유지보수나 사업 확장에 어려움이 생길 수 있습니다。\n\n💡 해결책: 결과물에 대한 모든 권리를 명확히 이전하여, 클라이언트가 자산을 온전히 소유하고 자유롭게 활용할 수 있도록 보장합니다.`
    };

    return {
        // --- 디자인 ---
        '로고/브랜딩 디자인': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 횟수 지정',
                    suggestion: '최초 시안(2종) 확인 후 1회, 최종 시안 확정 후 1회로 총 2회의 수정을 기본으로 제공합니다. 초과 수정은 별도 비용이 발생합니다.',
                    rationale: `🤔 문제점: 기준 없는 수정 요청은 프로젝트 지연과 분쟁의 원인이 됩니다。\n\n💡 해결책: 명확한 수정 횟수를 정해 분쟁을 막고 프로젝트 지연을 방지합니다.`,
                },
                {
                    title: '대안형: 단계별 수정',
                    suggestion: '시안 단계(2회), 디벨롭 단계(2회), 최종 단계(1회) 등 각 단계별로 수정 횟수를 지정합니다. 단계가 넘어가면 이전 단계 수정은 불가능합니다.',
                    rationale: `🤔 문제점: 프로젝트 막바지에 초기 시안을 다시 수정해달라는 요청은 큰 리소스 낭비입니다。\n\n💡 해결책: 단계별 수정 규칙을 정해 체계적인 디자인 프로세스를 확립하고, 회귀 수정을 방지합니다.`,
                },
            ],
            payment: [
                payment55,
                {
                    title: '대안형: 7:3 분할',
                    suggestion: `총 계약금액: ${projectValue.toLocaleString()}원 (VAT 별도)\n- 선금(70%): 계약 체결 후 3일 이내 (${(projectValue * 0.7).toLocaleString()}원)\n- 잔금(30%): 최종 산출물 검수 완료 후 3일 이내 (${(projectValue * 0.3).toLocaleString()}원)`,
                    rationale: `🤔 문제점: 디자인 작업은 초기 아이디어 구체화에 많은 시간이 소요되어, 프로젝트 중단 시 작업자의 피해가 클 수 있습니다。\n\n💡 해결책: 초기 리소스가 많이 투입되는 작업의 특성을 반영하여 작업자의 리스크를 줄입니다.`,
                },
            ],
            ip: [
                ipPortfolio,
                {
                    title: '대안형: 2차 활용 포함',
                    suggestion: '잔금 지급 완료 시, 최종 결과물에 대한 저작재산권 및 2차적 저작물 작성권을 포함한 모든 권리가 의뢰인에게 양도됩니다. 채택되지 않은 시안의 저작권은 작업자에게 있습니다.',
                    rationale: `🤔 문제점: 로고를 활용한 굿즈 제작 등 원본 변형이 예상될 때, 2차적 저작물 작성권에 대한 합의가 없으면 분쟁이 발생할 수 있습니다。\n\n💡 해결책: 권리 범위를 명확히 하여 향후 저작권 분쟁을 원천 차단하고 클라이언트의 활용도를 높입니다.`,
                },
            ],
        },
        '웹/앱 UI/UX 디자인': {
            ...commonClauses,
            revisions: [
                 {
                    title: '표준형: 단계별 수정',
                    suggestion: '와이어프레임 확정 후 1회, 전체 UI 디자인 완료 후 1회, 총 2회의 수정을 제공합니다. 각 단계가 완료되면 이전 단계로의 회귀 수정은 불가능합니다.',
                    rationale: `🤔 문제점: UI/UX 디자인은 절차적 과정이 중요하므로, 이전 단계로의 회귀는 프로젝트 전체를 지연시킵니다。\n\n💡 해결책: 각 단계를 명확히 구분하고 수정 규칙을 정해, 체계적인 프로세스를 확립하고 비효율적인 재작업을 방지합니다.`,
                },
                {
                    title: '대안형: 시간제 수정 (리테이너)',
                    suggestion: '기본 수정 2회 외에, 월 10시간의 추가 수정/자문 시간을 제공합니다. (3개월 계약) 초과 시간은 시간당 ${Math.round(projectValue / 100).toLocaleString()}원으로 계산하여 월말에 정산합니다.',
                    rationale: `🤔 문제점: 초기 기획이 불분명한 프로젝트는 잦은 수정이 예상되어, 횟수 기반 계약은 비효율적일 수 있습니다。\n\n💡 해결책: 투입되는 시간을 기준으로 계약하여, 유연한 변경에 대응하고 투입된 노력에 대한 정당한 대가를 보장받습니다.`,
                },
            ],
            payment: [payment343, payment55],
            ip: [ipPortfolio, ipPortfolioFee],
        },
        '상세페이지/광고 디자인': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 횟수 지정',
                    suggestion: '최초 시안(전체 레이아웃) 확정 후 1회, 최종 디자인 완료 후 텍스트/이미지 등 부분 요소 수정 1회를 제공합니다. 레이아웃 변경은 추가 비용이 발생합니다.',
                    rationale: `🤔 문제점: 상세페이지는 정보량이 많아 수정 범위가 모호해지기 쉽습니다。\n\n💡 해결책: 큰 틀(레이아웃)과 세부 요소(텍스트, 이미지)의 수정 시점을 분리하여, 과도한 재작업을 방지하고 효율적인 피드백을 유도합니다.`,
                },
                {
                    title: '대안형: 범위 제한',
                    suggestion: '수정은 텍스트 오탈자 수정 및 제공된 이미지 교체에 한하여 2회 제공됩니다. 디자인 컨셉, 레이아웃, 기획 변경은 포함되지 않습니다.',
                    rationale: `🤔 문제점: 기획이 명확한 프로젝트에서 불필요한 디자인 수정은 시간 낭비입니다。\n\n💡 해결책: 수정 범위를 명확히 제한하여, 정해진 기획안에 따른 디자인 작업에 집중하고 프로젝트 효율을 높입니다.`,
                },
            ],
            payment: [
                payment55,
                {
                    title: '대안형: 길이 연동',
                    suggestion: `기본 계약은 스크롤 길이 10,000px 기준으로 ${projectValue.toLocaleString()}원입니다. 최종 결과물의 길이가 10,000px을 초과하는 경우, 1,000px당 ${Math.round(projectValue / 10).toLocaleString()}원의 추가 비용이 발생하며 잔금과 함께 정산합니다.`,
                    rationale: `🤔 문제점: 기획 단계에서 예측보다 페이지 길이가 길어지면, 작업자의 업무량이 과도하게 늘어날 수 있습니다。\n\n💡 해결책: 작업량의 기준을 명확히 제시하고, 추가 작업에 대한 정당한 대가를 보장받는 합리적인 방식입니다.`,
                },
            ],
            ip: [
                {
                    title: '표준형: 원본 파일 제공',
                    suggestion: '잔금 지급 완료 시, 최종 결과물의 PSD/AI 원본 파일을 의뢰인에게 제공합니다. 단, 작업에 사용된 유료 폰트 및 이미지 소스는 의뢰인이 직접 라이선스를 확보해야 합니다.',
                    rationale: `🤔 문제점: 원본 파일에 포함된 유료 소스의 라이선스 문제가 발생하면, 양측 모두에게 법적 책임이 따를 수 있습니다。\n\n💡 해결책: 결과물의 소유권은 이전하되, 제3자 저작물에 대한 라이선스 책임을 명확히 하여 분쟁을 예방합니다.`,
                },
                {
                    title: '대안형: 웹 게시용 파일만 제공',
                    suggestion: '최종 결과물은 웹 게시용(JPG/PNG) 파일로만 제공되며, 원본 파일(PSD/AI)이 필요한 경우 계약 금액의 30%에 해당하는 추가 비용이 발생합니다. 저작권은 잔금 지급 시 귀속됩니다.',
                    rationale: `🤔 문제점: 디자이너의 핵심 자산인 원본 파일을 무상으로 제공하는 것은 기술 유출의 위험이 있습니다。\n\n💡 해결책: 결과물 사용 목적에 따라 파일 형태를 달리 제공하여, 작업자의 핵심 자산을 보호하고 추가적인 수익 모델을 확보할 수 있습니다.`,
                },
            ],
        },
        '캐릭터/일러스트': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 단계별 수정',
                    suggestion: '스케치 단계에서 1회, 채색 단계에서 1회, 총 2회의 수정을 제공합니다. 스케치가 확정된 이후 구도나 포즈 등 큰 변경은 불가능합니다.',
                    rationale: `🤔 문제점: 작업 후반부에 초기 컨셉을 변경하면 재작업의 범위가 매우 커집니다。\n\n💡 해결책: 작업 단계를 명확히 나누고 각 단계별 수정 범위를 지정하여 효율적인 프로세스를 확립합니다.`
                },
                {
                    title: '대안형: 부분별 수정',
                    suggestion: '최종 완성본 전달 후, 색상 변경 1회, 표정 변화 1회 등 사전에 합의된 부분에 한해 총 2회의 수정을 제공합니다. 전체적인 형태 수정은 포함되지 않습니다.',
                    rationale: `🤔 문제점: '느낌만 살짝'과 같은 모호한 요청은 끝없는 수정을 유발합니다。\n\n💡 해결책: 수정 가능한 부분을 구체적으로 명시하여 주관적인 피드백으로 인한 분쟁을 방지합니다.`
                }
            ],
            payment: [payment55, payment343],
            ip: [
                ipPortfolio,
                {
                    title: '대안형: 사용 범위 제한',
                    suggestion: '잔금 지급 완료 시, 본 계약에서 합의한 용도(예: SNS 프로필, 웹사이트)에 한하여 결과물을 사용할 수 있는 사용권을 부여합니다. 굿즈 제작 등 상업적 2차 이용은 별도 계약이 필요합니다.',
                    rationale: `🤔 문제점: 저렴한 비용으로 제작된 캐릭터가 예상치 못한 상업적 용도로 사용되어 분쟁이 발생할 수 있습니다。\n\n💡 해결책: 사용 범위를 명확히 제한하여 작업물의 가치를 보호하고, 추가적인 사업 기회를 창출할 수 있습니다.`
                }
            ]
        },
        '인쇄/출판물 디자인': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 교정 단계별 수정',
                    suggestion: '1차 교정(전체 디자인 및 레이아웃) 시 1회, 2차 교정(텍스트 및 이미지) 시 1회, 최종 교정(오탈자) 시 1회, 총 3회의 수정을 제공합니다.',
                    rationale: `🤔 문제점: 인쇄물은 수정이 어려우므로, 단계별로 꼼꼼한 확인 절차가 필수적입니다。\n\n💡 해결책: 교정 단계를 체계적으로 나누어 디자인, 내용, 오탈자 등을 순차적으로 확인하며 완성도를 높입니다.`
                },
                {
                    title: '대안형: 수정 범위 제한',
                    suggestion: '수정은 제공된 원고의 오탈자 및 이미지 교체에 한하여 2회 제공됩니다. 디자인 컨셉 및 레이아웃 변경은 추가 비용이 발생합니다.',
                    rationale: `🤔 문제점: 인쇄 직전에 디자인 전체를 변경해달라는 요청은 프로젝트를 파국으로 이끕니다。\n\n💡 해결책: 수정 범위를 명확히 하여, 정해진 기획안에 따른 디자인 작업에 집중하고 인쇄 사고를 방지합니다.`
                }
            ],
            payment: [payment343, payment55],
            ip: [
                ipPortfolio,
                {
                    title: '대안형: 인쇄 부수 명시',
                    suggestion: '본 계약은 초판 1,000부 인쇄에 대한 디자인 비용입니다. 재인쇄 또는 증쇄 시에는 별도의 사용료 계약이 필요합니다. 잔금 지급 시 저작재산권은 귀속됩니다.',
                    rationale: `🤔 문제점: 디자인 결과물이 예상보다 훨씬 많이 인쇄되어도 디자이너에게 추가적인 보상이 없는 경우가 많습니다。\n\n💡 해결책: 인쇄 부수와 디자인 비용을 연동하여, 작업물의 가치에 상응하는 합리적인 대가를 보장받습니다.`
                }
            ]
        },

        // --- IT/개발 ---
        '웹사이트 개발': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 단계별 검수',
                    suggestion: '기획/디자인/개발 각 단계별로 1회의 수정 요청이 가능합니다. 계약 범위를 벗어나는 기능 추가 및 설계 변경은 별도의 추가 계약을 통해 진행합니다.',
                    rationale: `🤔 문제점: 개발 중 잦은 기획 변경(Scope Creep)은 프로젝트 실패의 주요 원인입니다。\n\n💡 해결책: 개발 단계별 검수를 통해 작업 범위를 명확히 하고, 안정적인 프로젝트 관리를 돕습니다.`,
                },
                {
                    title: '대안형: 유지보수 포함',
                    suggestion: '프로젝트 완료 및 최종 잔금 지급 후 1개월 간, 텍스트 수정, 이미지 교체 등 간단한 유지보수성 수정을 2회 지원합니다. (기능 변경 제외)',
                    rationale: `🤔 문제점: 론칭 직후 발견되는 사소한 수정 요청에 대한 기준이 없으면 분쟁의 소지가 됩니다。\n\n💡 해결책: 명확한 유지보수 범위를 설정하여 클라이언트 만족도를 높이고, 추가 작업에 대한 분쟁을 예방합니다.`,
                },
            ],
            payment: [
                payment343,
                {
                    title: '대안형: 마일스톤 기반',
                    suggestion: `총 계약금액: ${projectValue.toLocaleString()}원 (VAT 별도)\n1. 회원가입/로그인 기능: 20%\n2. 상품조회/결제 기능: 30%\n3. 관리자 페이지 기능: 30%\n4. 최종 테스트 및 배포: 20%\n각 마일스톤 완료 및 검수 후 3일 이내에 해당 대금을 지급합니다.`,
                    rationale: `🤔 문제점: 복잡한 프로젝트를 단순히 3단계로 나누기 어려울 수 있습니다。\n\n💡 해결책: 핵심 기능 단위로 마일스톤을 설정하고 대금을 분할하여, 진행 상황을 명확히 공유하고 대금 지급의 투명성을 높입니다.`,
                },
            ],
            ip: [
                ipClientOwned,
                {
                    title: '대안형: 소스코드 라이선스',
                    suggestion: '최종 결과물에 대한 사용권은 의뢰인에게 부여되나, 소스코드의 저작권은 작업자에게 있습니다. 의뢰인은 해당 소스코드를 본 프로젝트 목적 외에 재판매, 재배포할 수 없습니다.',
                    rationale: `🤔 문제점: 작업자가 직접 개발한 범용 모듈/라이브러리의 소유권까지 모두 양도하는 것은 불합리할 수 있습니다。\n\n💡 해결책: 솔루션 형태의 웹사이트을 제공할 때, 소스코드의 저작권은 보호하면서 클라이언트의 사용 권한을 보장하는 방식입니다.`,
                },
            ],
        },
        '모바일 앱 개발': {
            ...commonClauses,
            revisions: [
                 {
                    title: '표준형: 플랫폼별 검수',
                    suggestion: 'AOS, iOS 각 플랫폼별로 1회의 테스트 및 수정 요청이 가능합니다. 계약 범위를 벗어나는 OS 업데이트 대응 및 추가 기능 개발은 별도 계약으로 진행합니다.',
                    rationale: `🤔 문제점: 각기 다른 모바일 환경은 예측하지 못한 이슈를 발생시킬 수 있습니다。\n\n💡 해결책: 플랫폼별 검수 단계를 통해 앱의 안정성을 높이고, 유지보수 범위를 명확히 하여 추가 작업에 대한 분쟁을 예방합니다.`,
                },
                {
                    title: '대안형: 베타 테스트 기간',
                    suggestion: '스토어 출시 전, 2주간의 베타 테스트 기간을 가집니다. 이 기간 동안 발견되는 버그 및 오류는 무상으로 수정합니다. 기능 추가 및 변경은 포함되지 않습니다.',
                    rationale: `🤔 문제점: 내부 테스트만으로는 모든 오류를 발견하기 어렵습니다。\n\n💡 해결책: 실제 사용자와 유사한 환경에서 테스트를 진행하여 앱의 안정성을 확보하고, 출시 후 발생할 문제를 최소화합니다.`
                }
            ],
            payment: [
                {
                    title: '표준형: 3단계 분할 (스토어 심사 기준)',
                    suggestion: `총 계약금액: ${projectValue.toLocaleString()}원 (VAT 별도)\n- 계약금(30%): 계약 체결 시 (${(projectValue * 0.3).toLocaleString()}원)\n- 중도금(40%): 주요 기능 개발 및 테스트 빌드 전달 시 (${(projectValue * 0.4).toLocaleString()}원)\n- 잔금(30%): 스토어 심사 요청 및 최종 산출물 전달 완료 시 (${(projectValue * 0.3).toLocaleString()}원)`,
                    rationale: `🤔 문제점: 앱 개발은 스토어 심사 등 외부 변수가 많아, 대금 지급 시점이 모호해질 수 있습니다。\n\n💡 해결책: 스토어 심사 요청을 기준으로 잔금 지급 시점을 명확히 하여, 심사 지연으로 인한 대금 지급 지연 리스크를 줄입니다.`,
                },
                 payment343
            ],
            ip: [
                {
                    title: '표준형: 전체 권리 양도',
                    suggestion: '잔금 지급 완료 시, 개발된 모바일 앱의 모든 소스코드와 산출물, 그리고 앱스토어/플레이스토어 계정의 소유권은 의뢰인에게 귀속됩니다.',
                    rationale: `🤔 문제점: 앱 스토어 계정 소유권이 불분명하면, 향후 앱 업데이트 및 관리에 심각한 문제가 발생합니다。\n\n💡 해결책: 소스코드뿐만 아니라 스토어 계정의 소유권까지 명확히 이전하여 클라이언트의 온전한 자산 소유를 보장합니다.`,
                },
                ipPortfolio
            ],
        },
        '백엔드/API 개발': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 명세 기반 검수',
                    suggestion: '최종 확정된 API 명세서를 기준으로 개발하며, 테스트 단계에서 명세와 다른 동작에 대한 수정은 2회 지원합니다. 명세 변경은 추가 계약이 필요합니다.',
                    rationale: `🤔 문제점: 명확한 기준 없는 API 수정 요청은 전체 시스템의 불안정성을 야기할 수 있습니다。\n\n💡 해결책: 확정된 API 명세서를 기준으로 작업 범위를 명확히 하여, 잦은 변경으로 인한 프로젝트 지연 및 품질 저하를 방지합니다.`,
                },
                {
                    title: '대안형: 부하 테스트 포함',
                    suggestion: '개발 완료 후, 합의된 기준(예: 1,000 TPS)에 따른 부하 테스트를 1회 진행하고 결과를 공유합니다. 테스트에서 발견된 성능 저하 문제는 무상으로 수정합니다.',
                    rationale: `🤔 문제점: 기능은 정상 작동하지만, 사용자가 몰렸을 때 서버가 다운되는 경우가 발생할 수 있습니다。\n\n💡 해결책: 사전에 성능 기준을 합의하고 테스트를 진행하여, 서비스의 안정성을 확보하고 출시 후 발생할 장애를 예방합니다.`
                }
            ],
            payment: [ payment55, payment343 ],
            ip: [ ipClientOwned, ipPortfolio ],
        },
        '데이터 분석/AI': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 단계별 수정',
                    suggestion: '데이터 전처리 및 분석 모델 확정 후 1회, 최종 보고서 초안에 대해 1회, 총 2회의 수정을 제공합니다. 분석 범위 및 주요 변수 변경은 추가 협의 대상입니다.',
                    rationale: `🤔 문제점: 분석 중간에 데이터나 목표가 바뀌면 처음부터 다시 시작해야 할 수 있습니다。\n\n💡 해결책: 각 단계를 명확히 구분하고 수정 규칙을 정해, 체계적인 프로세스를 확립하고 비효율적인 재작업을 방지합니다.`,
                },
                {
                    title: '대안형: 모델 성능 기준',
                    suggestion: '수정은 사전에 합의된 모델 성능 목표(예: 정확도 95%)에 도달할 때까지 진행합니다. 단, 제공된 데이터의 품질 문제로 목표 달성이 불가능할 경우 상호 협의하여 기준을 조정합니다.',
                    rationale: `🤔 문제점: '더 정확하게'와 같은 모호한 요청은 끝없는 모델 튜닝을 유발합니다。\n\n💡 해결책: 명확한 성능 지표를 기준으로 작업 완료를 정의하여, 주관적인 판단으로 인한 분쟁을 예방합니다.`
                }
            ],
            payment: [ payment343, payment55 ],
            ip: [
                {
                    title: '표준형: 보고서 및 모델 소유권 이전',
                    suggestion: '잔금 지급 완료 시, 최종 분석 보고서, 시각화 대시보드, 개발된 모델의 소유권은 의뢰인에게 귀속됩니다.',
                    rationale: `🤔 문제점: 분석 결과뿐만 아니라, 향후 활용될 수 있는 모델 자체의 소유권도 중요합니다。\n\n💡 해결책: 보고서와 모델의 소유권을 명확히 이전하여 클라이언트가 분석 자산을 온전히 확보하도록 합니다.`,
                },
                ipPortfolio,
            ],
        },
        '퍼블리싱/QA': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 버그 등급 기반',
                    suggestion: 'QA 단계에서 발견된 Critical 등급 버그는 무제한 수정, Major 등급 버그는 2회 수정을 지원합니다. Minor 등급 버그 및 기획 변경에 따른 수정은 포함되지 않습니다.',
                    rationale: `🤔 문제점: 모든 버그를 수정하다 보면 출시일이 기약 없이 미뤄질 수 있습니다。\n\n💡 해결책: 버그의 심각도에 따라 수정 범위를 명확히 하여, 핵심 기능의 안정성을 확보하고 효율적인 QA를 진행합니다.`,
                },
                {
                    title: '대안형: 테스트 케이스 기준',
                    suggestion: '사전에 합의된 테스트 케이스(TC)를 모두 통과(Pass)하는 것을 기준으로 검수를 완료합니다. 테스트 케이스 외의 수정 요청은 별도 협의가 필요합니다.',
                    rationale: `🤔 문제점: 테스트 범위가 불명확하면 예상치 못한 부분에서 계속 이슈가 발생합니다。\n\n💡 해결책: 명확한 테스트 케이스를 기준으로 작업 범위를 한정하여, 양측이 동일한 목표를 가지고 품질을 검증하도록 합니다.`
                }
            ],
            payment: [
                payment55,
                {
                    title: '대안형: 항목별 정산',
                    suggestion: `퍼블리싱 페이지당 ${Math.round(projectValue / 10).toLocaleString()}원, QA 테스트 케이스당 ${Math.round(projectValue / 100).toLocaleString()}원으로 계산하여 월말에 정산합니다.`,
                    rationale: `🤔 문제점: 작업량이 유동적인 경우, 고정된 금액으로 계약하면 한쪽이 손해를 볼 수 있습니다。\n\n💡 해결책: 작업 단위를 명확히 정의하고 수량에 따라 정산하여, 투입된 노력에 대한 공정한 대가를 보장받습니다.`,
                },
            ],
            ip: [
                {
                    title: '표준형: 산출물 귀속',
                    suggestion: '잔금 지급 완료 시, 퍼블리싱된 HTML/CSS/JS 산출물 및 QA 테스트 시나리오, 결과 보고서 등 모든 산출물은 의뢰인에게 귀속됩니다.',
                    rationale: `🤔 문제점: 프로젝트 산출물에 대한 소유권이 불분명하면, 향후 유지보수나 인수인계 시 문제가 발생합니다。\n\n💡 해결책: 모든 산출물의 소유권을 명확히 이전하여 클라이언트의 자산을 보호합니다.`,
                },
                ipPortfolio,
            ],
        },
        // --- 영상/미디어 ---
        '유튜브 영상 편집': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 횟수 지정',
                    suggestion: '1차 가편본 전달 후 1회, 최종본 전달 후 자막/효과음 등 부분 수정 1회, 총 2회의 수정을 제공합니다. 편집 방향을 바꾸는 전면 재편집은 추가 비용이 발생합니다.',
                    rationale: '가장 일반적인 방식으로, 큰 틀의 합의 후 세부 사항을 조율하여 효율적인 수정을 유도합니다.'
                },
                {
                    title: '대안형: 시간 기반',
                    suggestion: '총 2시간의 수정 작업 시간을 기본으로 제공합니다. 2시간을 초과하는 수정 요청은 시간당 OO원의 추가 비용이 발생합니다. 수정 요청 시 예상 소요 시간을 미리 공유합니다.',
                    rationale: '수정 요청이 많을 것으로 예상될 때, 투입되는 시간에 따라 비용을 정산하여 공정한 대가를 보장받을 수 있습니다.'
                }
            ],
            payment: [
                payment55,
                {
                    title: '대안형: 건당 계약',
                    suggestion: `영상 1건당 ${projectValue.toLocaleString()}원으로 계약하며, 월말에 해당 월에 작업한 영상 건수를 기준으로 정산하여 익월 5일까지 지급합니다.`,
                    rationale: '지속적으로 유사한 영상을 제작할 경우, 건당 계약으로 정산 과정을 단순화하고 예측 가능한 수입을 확보할 수 있습니다.'
                }
            ],
            ip: [
                ipPortfolio,
                {
                    title: '대안형: 사용권 부여',
                    suggestion: '최종 영상의 저작권은 작업자에게 있으며, 의뢰인은 해당 영상을 자신의 유튜브 채널에 업로드하여 상업적으로 이용할 수 있는 영구적인 사용권을 가집니다. 프로젝트 원본 파일은 제공되지 않습니다.',
                    rationale: '편집 스타일 등 작업자의 저작권을 보호하면서도, 클라이언트가 채널 운영에 문제없도록 하는 합리적인 방식입니다.'
                }
            ]
        },
        '광고/홍보 영상 제작': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 단계별 수정',
                    suggestion: '스토리보드(콘티) 확정 후 1회, 가편집본 전달 후 1회, 최종본에서 부분 수정 1회, 총 3회 수정을 제공합니다. 각 단계가 완료되면 이전 단계 수정은 불가능합니다.',
                    rationale: `🤔 문제점: 영상 제작은 단계별 협업이 중요하므로, 이전 단계로 회귀하면 모든 팀의 일정이 어그러집니다。\n\n💡 해결책: 각 단계를 명확히 구분하고 수정 규칙을 정해, 체계적인 프로세스를 확립하고 비효율적인 재작업을 방지합니다.`,
                },
                {
                    title: '대안형: 버전 관리',
                    suggestion: '최종 영상은 15초, 30초, 1분 등 총 3가지 버전으로 제공하며, 각 버전에 대한 수정은 1회씩 가능합니다. 새로운 버전 제작은 추가 비용이 발생합니다.',
                    rationale: `🤔 문제점: 하나의 영상을 여러 매체에 맞게 변형하는 과정에서 수정 범위가 모호해질 수 있습니다。\n\n💡 해결책: 제작할 영상의 버전을 명확히 정의하여, 과도한 추가 작업을 방지하고 효율적인 결과물 제작을 돕습니다.`,
                },
            ],
            payment: [payment343, payment55],
            ip: [
                {
                    title: '표준형: 사용 매체 명시',
                    suggestion: '잔금 지급 완료 시, 최종 영상의 저작재산권은 의뢰인에게 귀속됩니다. 사용 가능 매체는 온라인(유튜브, SNS) 및 사내 발표용으로 한정하며, TV-CF 등 기타 매체 사용은 별도 계약이 필요합니다.',
                    rationale: `🤔 문제점: 온라인용으로 제작된 영상이 TV 광고로 송출되는 등, 예상치 못한 용도로 사용될 수 있습니다。\n\n💡 해결책: 사용 범위를 명확히 제한하여 작업물의 가치를 보호하고, 추가적인 사업 기회를 창출할 수 있습니다.`,
                },
                ipPortfolio,
            ],
        },
        '모션그래픽/애니메이션': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 단계별 수정',
                    suggestion: '스토리보드/콘티 확정 후 1회, 주요 그래픽 시안 확정 후 1회, 1차 영상 전달 후 1회, 총 3회 수정을 제공합니다.',
                    rationale: `🤔 문제점: 애니메이션은 수정에 많은 시간이 소요되므로, 체계적인 피드백 과정이 필수적입니다。\n\n💡 해결책: 단계를 나누어 피드백을 받으면, 프로젝트 후반부의 대규모 재작업을 방지하고 완성도를 높일 수 있습니다.`,
                },
                {
                    title: '대안형: 초 단위 수정',
                    suggestion: '최종 영상 전달 후, 전체 영상 길이의 10% 이내(예: 60초 영상의 경우 6초)에 해당하는 부분에 대해 1회 수정을 제공합니다.',
                    rationale: `🤔 문제점: '전체적으로 좀 더 빠르게'와 같은 모호한 요청은 끝없는 수정을 유발합니다。\n\n💡 해결책: 수정 가능한 분량을 구체적인 시간으로 명시하여, 주관적인 피드백으로 인한 분쟁을 방지합니다.`,
                },
            ],
            payment: [payment343, payment55],
            ip: [ipClientOwned, ipPortfolioFee],
        },
        '촬영/드론 촬영': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 현장 확인',
                    suggestion: '촬영 현장에서 상호 협의 하에 촬영을 진행하며, 현장에서 OK된 컷에 대한 재촬영 요청은 불가능합니다. 촬영 후 편집 과정에서의 수정은 본 계약에 포함되지 않습니다.',
                    rationale: `🤔 문제점: 촬영은 시간과 장소의 제약이 크므로, 현장에서의 결정이 매우 중요합니다。\n\n💡 해결책: 현장에서의 검수를 원칙으로 하여, 불필요한 재촬영으로 인한 비용과 시간 낭비를 방지합니다.`,
                },
                {
                    title: '대안형: 기상 악화 등 불가항력',
                    suggestion: '우천, 강풍 등 기상 악화로 인해 정상적인 촬영이 불가능하다고 판단될 경우, 상호 협의 하에 촬영을 연기할 수 있습니다. 이에 따른 추가 출장비는 의뢰인이 부담합니다.',
                    rationale: `🤔 문제점: 통제 불가능한 외부 요인으로 인한 촬영 실패의 책임을 작업자에게만 물을 수 없습니다。\n\n💡 해결책: 불가항력적인 상황에 대한 책임 소재와 추가 비용을 명확히 하여, 양측의 손실을 최소화합니다.`,
                },
            ],
            payment: [
                payment55,
                {
                    title: '대안형: 출장비 별도',
                    suggestion: `총 계약금액과 별도로, 촬영에 필요한 교통비, 숙박비, 장비 대여료 등 실비는 의뢰인이 부담하며, 촬영 전 선지급을 원칙으로 합니다.`,
                    rationale: `🤔 문제점: 촬영 프로젝트는 예측하기 어려운 추가 비용이 발생할 수 있습니다。\n\n💡 해결책: 용역비와 실비를 분리하여, 예상치 못한 비용 발생에 유연하게 대처하고 투명한 정산을 돕습니다.`,
                },
            ],
            ip: [
                {
                    title: '표준형: 원본 데이터 사용권',
                    suggestion: '잔금 지급 완료 시, 촬영된 모든 원본 데이터(RAW 파일)에 대한 사용권은 의뢰인에게 귀속됩니다. 단, 촬영 결과물의 저작인격권은 작업자에게 있으며, 작업자는 이를 포트폴리오로 사용할 수 있습니다.',
                    rationale: `🤔 문제점: 촬영 원본 데이터의 소유권과 사용권이 불분명하면 2차 편집 등에서 분쟁이 발생할 수 있습니다。\n\n💡 해결책: 클라이언트의 자유로운 활용을 보장하면서도, 촬영자의 저작인격권과 포트폴리오 권리를 명확히 하여 양측을 보호합니다.`,
                },
                ipPortfolioFee,
            ],
        },
         // --- 글/콘텐츠 ---
         '블로그/SNS 원고': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 횟수 지정',
                    suggestion: '초고 전달 후 내용 및 방향성에 대한 수정 1회, 최종본 전달 후 오탈자 등 부분 수정 1회, 총 2회의 수정을 제공합니다.',
                    rationale: '가장 일반적인 방식으로, 큰 틀의 합의 후 세부 사항을 조율하여 효율적인 수정을 유도합니다.'
                },
                {
                    title: '대안형: 글자 수 기준',
                    suggestion: '최종 결과물의 글자 수가 계약된 분량의 120%를 초과하지 않는 범위 내에서 2회 수정을 제공합니다. 단, 주제 자체의 변경은 포함되지 않습니다.',
                    rationale: '작업량의 기준을 명확히 하여, 과도한 내용 추가로 인한 업무량 증가를 방지합니다.'
                }
            ],
            payment: [
                payment55,
                {
                    title: '대안형: 건당 계약',
                    suggestion: `원고 1건당 ${projectValue.toLocaleString()}원으로 계약하며, 월말에 해당 월에 작업한 원고 건수를 기준으로 정산하여 익월 5일까지 지급합니다.`,
                    rationale: '지속적으로 유사한 원고를 작성할 경우, 건당 계약으로 정산 과정을 단순화하고 예측 가능한 수입을 확보할 수 있습니다.'
                }
            ],
            ip: [ipClientOwned, ipPortfolio],
        },
         '카피라이팅': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 시안 기준',
                    suggestion: '최초 시안(3종) 전달 후, 선택된 1종에 대해 2회의 수정을 제공합니다. 새로운 시안을 요청하는 경우 추가 비용이 발생합니다.',
                    rationale: '다양한 방향성을 제시한 후, 선택된 안에 집중하여 발전시키는 방식으로 효율적인 결과물 도출을 유도합니다.'
                },
                {
                    title: '대안형: 범위 제한',
                    suggestion: '수정은 최종 선택된 시안의 단어, 어순 변경 등 부분적인 표현에 한하여 2회 제공됩니다. 컨셉 자체의 변경은 포함되지 않습니다.',
                    rationale: `🤔 문제점: '느낌만 살짝'과 같은 모호한 요청은 끝없는 수정을 유발합니다。\n\n💡 해결책: 수정 가능한 범위를 구체적으로 명시하여 주관적인 피드백으로 인한 분쟁을 방지합니다.`
                }
            ],
            payment: [
                payment55,
                {
                    title: '대안형: 성과 연동 (러닝 개런티)',
                    suggestion: `기본 작업비 ${projectValue.toLocaleString()}원과 더불어, 해당 카피를 통해 발생한 광고 매출의 5%를 3개월간 인센티브로 지급합니다.`,
                    rationale: '결과물에 대한 자신감을 보여주고, 클라이언트와 성공의 과실을 공유하여 더 높은 수익을 기대할 수 있는 파트너십 방식입니다.'
                }
            ],
            ip: [
                {
                    title: '표준형: 전체 권리 양도',
                    suggestion: '잔금 지급 완료 시, 최종 채택된 카피 문구에 대한 저작재산권은 의뢰인에게 귀속됩니다. 채택되지 않은 시안의 저작권은 작업자에게 있습니다.',
                    rationale: '클라이언트가 자유롭게 카피를 활용할 수 있도록 보장하고, 채택되지 않은 아이디어는 작업자가 다른 곳에 활용할 수 있도록 하여 양측의 권리를 보호합니다.'
                },
                ipPortfolio,
            ]
        },
        '기술/전문 분야 글쓰기': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 팩트 체크 기반',
                    suggestion: '최종 원고 전달 후, 내용의 사실관계 오류 및 오탈자에 대한 수정은 횟수 제한 없이 지원합니다. 단, 원고의 구조 및 논지 변경은 1회로 제한합니다.',
                    rationale: `🤔 문제점: 전문적인 글은 정보의 정확성이 생명이므로, 팩트 오류는 치명적일 수 있습니다。\n\n💡 해결책: 정보의 정확성에 대한 책임을 명확히 하여 글의 신뢰도를 높이고, 주관적인 문체 수정 요청과 객관적인 오류 수정을 분리합니다.`,
                },
                {
                    title: '대안형: 자료 제공 기준',
                    suggestion: '의뢰인이 제공한 자료에 기반하여 원고를 작성하며, 제공된 자료의 오류에 대한 수정 책임은 의뢰인에게 있습니다. 원고 자체의 논리적 오류 및 표현 수정은 1회 지원합니다.',
                    rationale: `🤔 문제점: 부정확한 자료를 기반으로 작성된 글은 전체를 다시 써야 할 수 있습니다。\n\n💡 해결책: 자료의 정확성에 대한 책임을 명확히 하여, 작업자의 불필요한 재작업을 방지하고 효율적인 협업을 유도합니다.`,
                },
            ],
            payment: [payment55, payment343],
            ip: [ipClientOwned, ipPortfolioFee],
        },
        '대본/시나리오 작성': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 단계별 수정',
                    suggestion: '트리트먼트(시놉시스) 단계에서 1회, 1차 대본 완성 후 1회, 최종본에서 부분 수정 1회, 총 3회의 수정을 제공합니다. 단계가 넘어가면 이전 단계 수정은 불가능합니다.',
                    rationale: `🤔 문제점: 대본/시나리오는 구조가 중요하므로, 후반부의 설정 변경은 전체 스토리를 무너뜨릴 수 있습니다。\n\n💡 해결책: 단계별 검토를 통해 이야기의 뼈대를 튼튼히 하고, 비효율적인 재작업을 방지합니다.`,
                },
                {
                    title: '대안형: 제작 참여',
                    suggestion: '최종 대본 전달 후, 촬영 현장에서 발생하는 불가피한 대사 수정 및 상황 변경에 대해 2회까지 현장 수정을 지원합니다.',
                    rationale: `🤔 문제점: 글과 실제 영상은 다를 수 있어, 현장에서의 유연한 대처가 필요할 때가 있습니다。\n\n💡 해결책: 작가의 참여 범위를 명확히 하여, 제작 과정의 완성도를 높이고 추가적인 기여에 대한 분쟁을 예방합니다.`,
                },
            ],
            payment: [payment343, payment55],
            ip: [
                {
                    title: '표준형: 2차 활용 포함',
                    suggestion: '잔금 지급 완료 시, 최종 결과물에 대한 저작재산권 및 이를 원작으로 하는 2차적 저작물 작성권을 포함한 모든 권리가 의뢰인에게 양도됩니다.',
                    rationale: `🤔 문제점: 웹소설이 웹툰화되거나, 시나리오가 영화화될 때 원작자의 권리 범위가 모호하면 분쟁이 발생합니다。\n\n💡 해결책: 2차적 저작물 작성권까지 명확히 이전하여, 클라이언트의 OSMU(One Source Multi-Use) 사업 확장을 보장합니다.`,
                },
                ipPortfolio,
            ],
        },
        // --- 마케팅 ---
        'SNS 채널 운영': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 콘텐츠 캘린더 기준',
                    suggestion: '월간 콘텐츠 캘린더(기획안) 확정 후 1회 수정 가능하며, 확정된 기획안에 따라 제작된 콘텐츠의 디자인/텍스트 등 부분 수정은 월 3회까지 지원합니다.',
                    rationale: `🤔 문제점: 체계적인 계획 없이 즉흥적으로 콘텐츠를 수정하면 채널의 톤앤매너가 흔들릴 수 있습니다。\n\n💡 해결책: 월간 계획을 기준으로 작업 범위를 명확히 하여, 일관성 있는 채널 운영과 효율적인 업무 수행을 돕습니다.`,
                },
                {
                    title: '대안형: 긴급 대응 포함',
                    suggestion: '기본 수정 외에, 사회적 이슈나 트렌드 변화에 따른 긴급 콘텐츠 제작 및 수정을 월 2회 지원합니다.',
                    rationale: `🤔 문제점: SNS는 실시간 소통이 중요하므로, 예상치 못한 상황에 대한 빠른 대응이 필요할 수 있습니다。\n\n💡 해결책: 예측 불가능한 상황에 대한 대응 범위를 사전에 협의하여, 채널의 시의성을 확보하고 추가 업무에 대한 분쟁을 예방합니다.`,
                },
            ],
            payment: [monthlyPayment, payment55],
            ip: [ipClientOwned, ipPortfolio],
        },
        '퍼포먼스 마케팅': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 소재 기준',
                    suggestion: '월별 광고 소재(이미지, 카피) 시안에 대해 2회 수정을 제공합니다. 집행 중인 광고의 성과 개선을 위한 소재 수정은 상호 협의 하에 진행합니다.',
                    rationale: `🤔 문제점: 광고 성과는 소재뿐만 아니라 다양한 외부 요인의 영향을 받습니다。\n\n💡 해결책: 제작물의 수정과 성과 개선을 위한 운영을 분리하여, 각자의 책임과 역할을 명확히 합니다.`,
                },
                {
                    title: '대안형: 성과 보고 기반',
                    suggestion: '주간/월간 성과 보고서 전달 후, 보고서 내용에 기반한次週의 액션플랜(소재 변경, 타겟팅 수정 등)에 대해 1회 수정 및 조율이 가능합니다.',
                    rationale: `🤔 문제점: 데이터 기반의 의사결정 없이 감에 의존한 수정은 성과 개선에 도움이 되지 않습니다。\n\n💡 해결책: 정기적인 성과 보고를 기준으로 다음 행동을 결정하여, 데이터 기반의 효율적인 마케팅을 진행합니다.`,
                },
            ],
            payment: [
                monthlyPayment,
                {
                    title: '대안형: 성과 연동 인센티브',
                    suggestion: `기본 월 운영비 ${projectValue.toLocaleString()}원과 더불어, 목표 ROAS(광고수익률) 150% 초과 달성 시 초과분의 10%를 인센티브로 지급합니다.`,
                    rationale: `🤔 문제점: 단순 대행은 마케터의 동기부여를 떨어뜨릴 수 있습니다。\n\n💡 해결책: 명확한 성과 목표를 설정하고 그에 따른 인센티브를 제공하여, 마케터의 적극적인 참여를 유도하고 클라이언트와 윈윈하는 구조를 만듭니다.`,
                },
            ],
            ip: [ipClientOwned, ipPortfolio],
        },
        'SEO/콘텐츠 마케팅': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 원고 수정',
                    suggestion: '월별 발행될 콘텐츠(블로그 포스팅 등) 원고에 대해 각 2회의 수정을 제공합니다. SEO 기술 최적화 작업은 본 수정 횟수에 포함되지 않습니다.',
                    rationale: `🤔 문제점: 콘텐츠의 내용과 SEO 기술적 요소는 다른 전문 영역입니다。\n\n💡 해결책: 콘텐츠의 질과 기술적 최적화를 분리하여, 각 영역의 전문성을 존중하고 효율적인 수정을 돕습니다.`,
                },
                {
                    title: '대안형: 순위 기반',
                    suggestion: '계약 시 합의한 목표 키워드의 상위 노출(예: 1페이지 이내) 달성을 목표로 하며, 순위 변동에 따른 콘텐츠 및 기술적 수정은 작업자 판단 하에 상시 진행합니다.',
                    rationale: `🤔 문제점: SEO는 지속적인 모니터링과 빠른 대응이 중요합니다。\n\n💡 해결책: 작업자에게 수정 권한을 위임하여, 변화하는 검색 엔진 로직에 신속하게 대응하고 목표 달성 가능성을 높입니다.`,
                },
            ],
            payment: [monthlyPayment, payment343],
            ip: [ipClientOwned, ipPortfolio],
        },
        '브랜드 마케팅': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 단계별 수정',
                    suggestion: '브랜드 전략 기획안에 대해 1회, 분기별 캠페인 실행안에 대해 1회, 총 2회의 수정을 제공합니다. 확정된 기획안에 따른 제작물의 수정은 별도 기준을 따릅니다.',
                    rationale: `🤔 문제점: 전략과 실행은 명확히 구분되어야 합니다. 전략이 확정되지 않으면 실행이 흔들립니다。\n\n💡 해결책: 전략 수립과 실행 계획을 단계별로 나누어 검토하여, 일관성 있고 효과적인 브랜드 마케팅을 진행합니다.`,
                },
                {
                    title: '대안형: 핵심 메시지 기준',
                    suggestion: '최종 확정된 브랜드 핵심 메시지 및 가이드라인에 부합하지 않는 결과물에 대해서는 횟수 제한 없이 수정을 요청할 수 있습니다.',
                    rationale: `🤔 문제점: 브랜드의 일관성은 사소한 부분에서 무너질 수 있습니다。\n\n💡 해결책: 명확한 브랜드 가이드라인을 기준으로 작업물의 적합성을 판단하여, 브랜드의 일관성을 유지하고 주관적인 피드백을 방지합니다.`,
                },
            ],
            payment: [payment343, monthlyPayment],
            ip: [ipClientOwned, ipPortfolioFee],
        },
         // --- 번역 ---
        '일반/비즈니스 번역': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 용어/표현 수정',
                    suggestion: '최종 번역본 전달 후 7일 이내에, 용어 선택, 문체, 표현의 어색함 등 내용에 대한 수정을 1회 요청할 수 있습니다. 원문 변경에 따른 추가 번역은 별도 비용이 발생합니다.',
                    rationale: '번역의 품질을 보장하고, 원문 변경으로 인한 추가 작업을 명확히 구분하여 분쟁을 예방합니다.'
                },
                {
                    title: '대안형: 감수 포함',
                    suggestion: '1차 번역본 전달 후, 의뢰인이 지정한 원어민 감수자의 피드백을 반영하여 1회 수정을 진행합니다. 감수 비용은 의뢰인이 부담합니다.',
                    rationale: '더 높은 수준의 번역 품질이 필요할 때, 제3자의 객관적인 검토를 통해 결과물의 완성도를 높이는 전문적인 방식입니다.'
                }
            ],
            payment: [
                payment55,
                {
                    title: '대안형: 단어/글자 수 기준',
                    suggestion: `원본 텍스트 기준, 1단어(영문)/1글자(국문)당 ${Math.round(projectValue/1000).toLocaleString()}원으로 계산하여 정산합니다. 계약 시 예상 금액의 50%를 선금으로 지급하고, 최종 결과물 전달 후 잔금을 정산합니다.`,
                    rationale: '번역 작업량을 가장 객관적으로 측정하는 업계 표준 방식으로, 명확하고 투명한 비용 산정이 가능합니다.'
                }
            ],
            ip: [
                {
                    title: '표준형: 결과물 소유권 이전',
                    suggestion: '잔금 지급 완료 시, 번역된 결과물에 대한 모든 권리는 의뢰인에게 귀속됩니다. 작업자는 번역 과정에서 생성된 용어집 등을 개인 자산으로 활용할 수 있습니다.',
                    rationale: '클라이언트의 자유로운 활용을 보장하면서, 번역가의 지적 자산(노하우)도 보호하는 합리적인 조항입니다.'
                },
                ipPortfolio,
            ]
        },
        '영상/자막 번역': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 내용 수정',
                    suggestion: '최종 자막 파일(SRT) 전달 후 7일 이내에, 오역, 표현, 싱크(타임코드) 오류에 대한 수정을 1회 요청할 수 있습니다.',
                    rationale: `🤔 문제점: 영상의 맥락을 잘못 이해하면 오역이 발생하기 쉽습니다。\n\n💡 해결책: 번역의 품질과 기술적(싱크) 정확성을 보장하여, 시청자의 몰입도를 높이는 완성도 높은 결과물을 제공합니다.`,
                },
                {
                    title: '대안형: 플랫폼별 수정',
                    suggestion: '유튜브, 넷플릭스 등 각 플랫폼의 가이드라인에 맞게 자막을 수정하며, 플랫폼 심사에서 반려될 경우 횟수 제한 없이 재수정을 지원합니다.',
                    rationale: `🤔 문제점: 각 플랫폼마다 자막 규정이 달라, 규정을 맞추지 못하면 업로드가 거절될 수 있습니다。\n\n💡 해결책: 플랫폼 통과를 최종 목표로 하여, 기술적인 문제에 대한 책임을 명확히 하고 클라이언트의 성공적인 콘텐츠 게시를 돕습니다.`,
                },
            ],
            payment: [
                payment55,
                {
                    title: '대안형: 분당 정산',
                    suggestion: `영상 1분당 ${Math.round(projectValue/10).toLocaleString()}원으로 계산하여 정산합니다. 계약 시 예상 금액의 50%를 선금으로 지급하고, 최종 결과물 전달 후 잔금을 정산합니다.`,
                    rationale: `🤔 문제점: 영상 길이가 유동적일 때 고정 금액 계약은 불합리할 수 있습니다。\n\n💡 해결책: 작업량을 가장 객관적으로 측정하는 업계 표준 방식으로, 명확하고 투명한 비용 산정이 가능합니다.`,
                },
            ],
            ip: [ipClientOwned, ipPortfolio],
        },
        '전문/기술 번역': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 용어집 기반',
                    suggestion: '사전에 합의된 용어집(Glossary)을 기준으로 번역하며, 최종 번역본에서 용어집과 다른 부분 및 명백한 오역에 대한 수정은 횟수 제한 없이 지원합니다.',
                    rationale: `🤔 문제점: 전문 분야는 용어의 통일성이 매우 중요합니다。\n\n💡 해결책: 용어집을 기준으로 작업하여 번역의 일관성과 정확성을 확보하고, 주관적인 표현 수정 요청을 방지합니다.`,
                },
                {
                    title: '대안형: 전문가 감수 포함',
                    suggestion: '1차 번역본 전달 후, 해당 분야 전문가(의뢰인 지정)의 감수를 1회 거쳐 내용을 수정 및 보완합니다. 감수자 비용은 의뢰인이 부담합니다.',
                    rationale: `🤔 문제점: 번역가만으로는 해당 분야의 미묘한 뉘앙스까지 파악하기 어려울 수 있습니다。\n\n💡 해결책: 해당 분야 전문가와의 협업을 통해, 최고 수준의 정확성과 전문성을 갖춘 결과물을 보장합니다.`,
                },
            ],
            payment: [payment55, payment343],
            ip: [ipClientOwned, ipPortfolioFee],
        },
        '순차/동시 통역': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 사전 협의',
                    suggestion: '통역 진행 전, 발표 자료 및 예상 질의응답 리스트를 공유받아 용어 및 내용에 대해 사전 협의합니다. 통역 서비스의 특성상, 현장에서의 실시간 수정 요청은 불가능합니다.',
                    rationale: `🤔 문제점: 통역은 실시간으로 이루어지므로, 사전 준비가 통역의 질을 결정합니다。\n\n💡 해결책: 충분한 사전 협의를 통해 오해의 소지를 줄이고, 성공적인 커뮤니케이션을 위한 만반의 준비를 합니다.`,
                },
                {
                    title: '대안형: 녹화본 검수',
                    suggestion: '행사 종료 후 녹화된 통역 결과물에 대해 1회 검수 및 피드백을 제공하며, 이를 바탕으로 결과 보고서를 작성하여 제출합니다.',
                    rationale: `🤔 문제점: 통역 서비스는 무형의 결과물이므로, 품질을 평가하고 기록하기 어렵습니다。\n\n💡 해결책: 결과 보고서를 통해 통역의 품질을 객관적으로 평가하고, 향후 발전을 위한 데이터로 활용합니다.`,
                },
            ],
            payment: [
                {
                    title: '표준형: 시간 기반 정산',
                    suggestion: `통역 시간 1시간당 ${projectValue.toLocaleString()}원으로 계산하여 정산합니다. 최소 계약 시간은 2시간이며, 행사 종료 후 3일 이내에 지급합니다.`,
                    rationale: `🤔 문제점: 행사가 예상보다 길어질 경우, 통역사의 업무량도 늘어납니다。\n\n💡 해결책: 투입된 시간을 기준으로 비용을 정산하여, 통역사의 노력에 대한 정당한 대가를 보장하는 합리적인 방식입니다.`,
                },
                payment55,
            ],
            ip: [
                {
                    title: '표준형: 저작인격권',
                    suggestion: '통역 결과물(녹음, 녹화 등)의 저작권은 의뢰인에게 귀속되나, 해당 통역을 수행한 작업자의 성명을 표시할 권리(성명표시권)는 작업자에게 있습니다.',
                    rationale: `🤔 문제점: 통역사의 전문적인 노력이 결과물에 제대로 명시되지 않는 경우가 많습니다。\n\n💡 해결책: 통역사의 저작인격권을 보호하여 전문가로서의 명예를 지키고, 경력을 증빙할 수 있도록 합니다.`,
                },
                ipPortfolio,
            ],
        },
        // --- 컨설팅/교육 ---
        '비즈니스 컨설팅': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 보고서 수정',
                    suggestion: '최종 컨설팅 보고서 초안에 대해 1회 수정을 제공합니다. 수정 범위는 보고서의 내용 및 데이터 오류에 한하며, 컨설팅의 방향성 자체를 변경하는 것은 포함되지 않습니다.',
                    rationale: `🤔 문제점: 컨설팅은 명확한 결과물이 없어, '마음에 들지 않는다'는 주관적인 피드백이 많을 수 있습니다。\n\n💡 해결책: 보고서를 기준으로 결과물을 명확히 하고, 수정 범위를 한정하여 분쟁을 예방합니다.`,
                },
                {
                    title: '대안형: 실행 계획(Action Plan) 검토',
                    suggestion: '컨설팅 결과로 도출된 실행 계획에 대해, 의뢰인의 내부 사정을 고려하여 1회 조율 및 수정을 진행합니다.',
                    rationale: `🤔 문제점: 아무리 좋은 전략도 실행 가능하지 않으면 의미가 없습니다。\n\n💡 해결책: 이론적인 전략을 넘어, 실제 실행 가능한 계획을 함께 만들어 컨설팅의 실효성을 높입니다.`,
                },
            ],
            payment: [payment343, monthlyPayment],
            ip: [ipClientOwned, ipPortfolioFee],
        },
        '커리어/진로 코칭': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 세션별 피드백',
                    suggestion: '매 코칭 세션 종료 후, 요약 및 다음 세션 계획에 대한 상호 확인을 진행합니다. 서비스의 특성상, 이미 진행된 세션에 대한 수정이나 재진행은 불가능합니다.',
                    rationale: `🤔 문제점: 코칭은 실시간 상호작용이므로, 지나간 시간에 대한 가치를 되돌릴 수 없습니다。\n\n💡 해결책: 매 세션마다 명확한 마무리를 통해, 코칭의 방향성에 대한 상호 동의를 얻고 만족도를 높입니다.`,
                },
                {
                    title: '대안형: 결과물 수정',
                    suggestion: '코칭 과정에서 산출된 이력서/자소서 첨삭본에 대해 2회의 수정을 제공합니다.',
                    rationale: `🤔 문제점: 코칭과 별개로, 문서화된 결과물에 대한 구체적인 피드백이 필요할 수 있습니다。\n\n💡 해결책: 코칭 서비스와 문서 결과물을 분리하여, 각 특성에 맞는 수정 정책을 제공함으로써 고객 만족도를 높입니다.`,
                },
            ],
            payment: [
                {
                    title: '표준형: 패키지 선결제',
                    suggestion: `총 5회 코칭 세션 패키지에 대해 ${projectValue.toLocaleString()}원을 계약 시 선결제합니다. 개인 사유로 중도 포기 시, 진행된 세션 비용을 차감하고 환불 규정에 따라 처리합니다.`,
                    rationale: `🤔 문제점: 약속된 코칭 일정을 지키지 않으면, 코치의 시간과 기회비용이 낭비됩니다。\n\n💡 해결책: 선결제를 통해 상호 간의 책임감을 높이고, 안정적인 코칭 관계를 형성합니다.`,
                },
                payment55,
            ],
            ip: [ipClientOwned, ipPortfolio],
        },
        '온라인 강의 제작': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 단계별 수정',
                    suggestion: '강의안(커리큘럼) 확정 후 1회, 1차 강의 영상 전달 후 1회, 총 2회의 수정을 제공합니다. 강의안이 확정되면 내용의 대규모 변경은 불가능합니다.',
                    rationale: `🤔 문제점: 강의 제작은 기획이 전부입니다. 기획이 흔들리면 모든 것을 다시 만들어야 합니다。\n\n💡 해결책: 강의의 뼈대인 커리큘럼을 먼저 확정하여, 체계적이고 일관성 있는 강의를 제작합니다.`,
                },
                {
                    title: '대안형: 수강생 피드백 반영',
                    suggestion: '강의 론칭 후 1개월간 수강생 피드백을 바탕으로, 내용 이해를 돕기 위한 보충 자료(PDF, Q&A)를 1회 추가 제작하여 제공합니다.',
                    rationale: `🤔 문제점: 제작자 입장에서 쉬운 내용이 수강생에게는 어려울 수 있습니다。\n\n💡 해결책: 실제 수강생의 피드백을 반영하여 강의의 질을 높이고, 수강생 만족도를 극대화합니다.`,
                },
            ],
            payment: [
                payment343,
                {
                    title: '대안형: 수익 배분 (RS)',
                    suggestion: `초기 제작비 ${projectValue.toLocaleString()}원과 더불어, 강의 판매로 발생한 순수익의 20%를 분기별로 정산하여 지급합니다.`,
                    rationale: `🤔 문제점: 강의의 성공 여부가 불확실할 때, 높은 초기 제작비는 부담이 될 수 있습니다。\n\n💡 해결책: 성공의 과실을 함께 나누는 파트너십 구조를 통해, 양측의 리스크를 줄이고 동반 성장을 도모합니다.`,
                },
            ],
            ip: [
                {
                    title: '표준형: 전체 권리 양도',
                    suggestion: '잔금 지급 완료 시, 제작된 강의 영상, 교안 등 모든 콘텐츠에 대한 저작재산권은 의뢰인에게 귀속됩니다.',
                    rationale: `🤔 문제점: 강의 콘텐츠의 소유권이 불분명하면, 플랫폼 이전이나 재판매 시 문제가 발생할 수 있습니다。\n\n💡 해결책: 모든 권리를 명확히 이전하여, 클라이언트가 강의 콘텐츠를 온전한 자산으로 소유하고 활용하도록 합니다.`,
                },
                ipPortfolio,
            ],
        },
        '외국어/전문 과외': {
            ...commonClauses,
            revisions: [
                {
                    title: '표준형: 커리큘럼 협의',
                    suggestion: '최초 1회 수업 후, 학습자의 수준과 목표에 맞춰 커리큘럼을 확정하며, 이후 월 1회 학습 경과에 따라 커리큘럼 조정을 요청할 수 있습니다.',
                    rationale: `🤔 문제점: 모든 사람에게 맞는 단 하나의 커리큘럼은 없습니다。\n\n💡 해결책: 학습자의 성장에 맞춰 유연하게 커리큘럼을 조정하여, 학습 효과를 극대화하고 맞춤형 교육을 제공합니다.`,
                },
                {
                    title: '대안형: 보강 정책',
                    suggestion: '개인 사정으로 수업에 불참할 경우, 월 1회에 한해 보강 수업을 제공합니다. 당일 취소는 보강이 불가능하며, 수업 1회로 간주합니다.',
                    rationale: `🤔 문제점: 잦은 수업 취소는 강사의 스케줄과 수입에 직접적인 타격을 줍니다。\n\n💡 해결책: 명확한 보강 정책을 통해, 학습자의 편의를 봐주면서도 강사의 권리를 보호하는 합리적인 규칙을 만듭니다.`,
                },
            ],
            payment: [
                monthlyPayment,
                {
                    title: '대안형: 횟수 기반 선결제',
                    suggestion: `총 8회 수업료 ${projectValue.toLocaleString()}원을 선결제하며, 8회 수업 소진 시 재결제합니다.`,
                    rationale: `🤔 문제점: 수업 횟수가 불규칙할 때 월 단위 결제는 정산이 복잡해질 수 있습니다。\n\n💡 해결책: 횟수 기반 결제를 통해, 정산 과정을 단순화하고 양측이 수업 횟수를 명확하게 인지하도록 돕습니다.`,
                },
            ],
            ip: [
                {
                    title: '표준형: 자료 사용권',
                    suggestion: '수업을 위해 제작/제공된 모든 학습 자료의 저작권은 작업자(강사)에게 있습니다. 학습자는 해당 자료를 개인적인 학습 목적으로만 사용해야 하며, 외부에 무단 배포할 수 없습니다.',
                    rationale: `🤔 문제점: 강사의 핵심 자산인 학습 자료가 무단으로 유출되면 심각한 피해를 입을 수 있습니다。\n\n💡 해결책: 학습 자료의 저작권을 명확히 하여 강사의 지적 재산을 보호하고, 불법적인 공유 및 재판매를 방지합니다.`,
                },
                ipPortfolio,
            ],
        },
    };
};

const LandingPage: React.FC<LandingPageProps> = ({ contractRef, onGoToContract }) => {
    const [step, setStep] = useState(1);
    const [formData, setFormData] = useState({
        clientName: '',
        freelancerName: '',
        projectName: '',
        industry: '',
        task: '',
        deliverables: [] as string[],
        projectValue: 100000,
        startDate: new Date().toISOString().split('T')[0],
        endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    });
    const [clauses, setClauses] = useState({
        scope: '',
        revisions: '',
        payment: '',
        ip: '',
        termination: '',
        feedback: '',
        review: '',
    });
    const [activeClauseHelp, setActiveClauseHelp] = useState<string | null>(null);
    const [dateError, setDateError] = useState('');
    const [notificationClicked, setNotificationClicked] = useState(false);
    const [customEdit, setCustomEdit] = useState<Set<string>>(new Set());

    const clauseGuidance = useMemo(() => getClauseGuidance(formData.projectValue), [formData.projectValue]);
    const guidanceForTask = useMemo(() => clauseGuidance[formData.task as keyof typeof clauseGuidance] || {}, [clauseGuidance, formData.task]);

    const showFullForm = formData.task !== '';

    const handleStepChange = (newStep: number) => {
        setStep(newStep);
        onGoToContract();
    };

    useEffect(() => {
        if(formData.industry) {
            const newTasks = TASK_OPTIONS[formData.industry];
            if (newTasks && !newTasks.includes(formData.task)) {
                setFormData(prev => ({ ...prev, task: '', deliverables: [] }));
            }
        }
    }, [formData.industry, formData.task]);

    useEffect(() => {
        const newDeliverables = DELIVERABLE_OPTIONS[formData.task];
        setFormData(prev => ({ ...prev, deliverables: newDeliverables || [] }));
        // Reset clauses when task changes to load new defaults
        const newGuidance = clauseGuidance[formData.task as keyof typeof clauseGuidance] || {};
        const newClauses: any = {};
        Object.keys(clauses).forEach(key => {
            const suggestions = (newGuidance as any)[key];
            if (suggestions && suggestions.length > 0) {
                newClauses[key] = suggestions[0].suggestion;
            } else {
                newClauses[key] = '';
            }
        });
        setClauses(newClauses);

    }, [formData.task, clauseGuidance]);

    useEffect(() => {
        if (formData.startDate && formData.endDate) {
            const start = new Date(formData.startDate);
            const end = new Date(formData.endDate);
            if (end < start) {
                setDateError('종료일은 시작일보다 빠를 수 없습니다.');
            } else {
                setDateError('');
            }
        }
    }, [formData.startDate, formData.endDate]);

    const handleFormChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {
        const { name, value } = e.target;
        if (name === 'projectValue') {
            const numericValue = parseInt(value.replace(/[^0-9]/g, ''), 10);
            setFormData(prev => ({ ...prev, [name]: isNaN(numericValue) ? 0 : numericValue }));
        } else {
            setFormData(prev => ({ ...prev, [name]: value }));
        }
    };

    const handleClauseChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {
        const { name, value } = e.target;
        setClauses(prev => ({ ...prev, [name]: value }));
    };

    const handleDeliverableChange = (index: number, value: string) => {
        const newDeliverables = [...formData.deliverables];
        newDeliverables[index] = value;
        setFormData(prev => ({ ...prev, deliverables: newDeliverables }));
    };
    
    const addDeliverable = () => {
        setFormData(prev => ({ ...prev, deliverables: [...prev.deliverables, ''] }));
    };

    const removeDeliverable = (index: number) => {
        setFormData(prev => ({ ...prev, deliverables: prev.deliverables.filter((_, i) => i !== index) }));
    };

    const handleApplySuggestion = (clauseKey: string, suggestion: string) => {
        setClauses(prev => ({ ...prev, [clauseKey]: suggestion }));
    };
    
    const toggleCustomEdit = (clauseKey: string) => {
        setCustomEdit(prev => {
            const newSet = new Set(prev);
            if (newSet.has(clauseKey)) {
                newSet.delete(clauseKey);
            } else {
                newSet.add(clauseKey);
            }
            return newSet;
        });
    };

    const clauseFields = [
        { key: 'scope', title: '작업의 범위와 내용', icon: <ScopeIcon /> },
        { key: 'revisions', title: '수정 횟수 및 범위', icon: <RevisionsIcon /> },
        { key: 'payment', title: '대금 지급 방식', icon: <DollarIcon /> },
        { key: 'ip', title: '저작권 귀속 및 활용', icon: <IPRightsIcon /> },
        { key: 'termination', title: '계약의 중도 해지', icon: <TerminationIcon /> },
        { key: 'feedback', title: '피드백 및 소통 방식', icon: <FeedbackIcon /> },
        { key: 'review', title: '기타 특약사항 (비밀유지 등)', icon: <PencilSquareIcon /> }
    ];
    
    const generateContractText = useCallback(() => `
용역 계약서

본 계약은 아래의 당사자 간에 체결된다.

- 의뢰인 (이하 "갑"): ${formData.clientName || '(의뢰인 이름)'}
- 작업자 (이하 "을"): ${formData.freelancerName || '(작업자 이름)'}

제 1 조 (계약의 목적)
"을"은 "갑"의 의뢰에 따라 ‘${formData.projectName || '(프로젝트명)'}’ 프로젝트(이하 "본 용역")를 수행하고, "갑"은 이에 대한 보수를 지급하는 것을 목적으로 한다.

제 2 조 (용역의 범위 및 내용)
"을"이 수행할 용역의 범위는 다음 각 호와 같다.
1. 주요 과업: ${formData.task}
2. 최종 산출물:
${formData.deliverables.map(d => `   - ${d}`).join('\n')}
3. 기타:
${clauses.scope || '(상호 협의 하에 정한 구체적인 작업 내용)'}

제 3 조 (계약 기간)
본 용역의 수행 기간은 ${formData.startDate}부터 ${formData.endDate}까지로 한다.

제 4 조 (계약 금액 및 지급 방법)
1. 총 계약 금액: 총 ${formData.projectValue.toLocaleString('ko-KR')} 원 (금 ${numberToKoreanWon(formData.projectValue)} 원정), 부가가치세 별도
2. 지급 방법:
${clauses.payment || CLAUSE_PLACEHOLDERS.payment}

제 5 조 (수정 및 검수)
${clauses.revisions || CLAUSE_PLACEHOLDERS.revisions}

제 6 조 (저작권 귀속)
${clauses.ip || CLAUSE_PLACEHOLDERS.ip}

제 7 조 (피드백 및 소통)
${clauses.feedback || CLAUSE_PLACEHOLDERS.feedback}

제 8 조 (계약의 해지)
${clauses.termination || CLAUSE_PLACEHOLDERS.termination}

제 9 조 (비밀유지 의무 및 기타)
${clauses.review || CLAUSE_PLACEHOLDERS.review}

본 계약의 내용을 증명하기 위하여 계약서 2부를 작성하여 "갑"과 "을"이 서명 또는 날인한 후 각각 1부씩 보관한다.

${new Date().getFullYear()}년 ${new Date().getMonth() + 1}월 ${new Date().getDate()}일

갑 (의뢰인): ${formData.clientName || '________________'} (서명/인)
을 (작업자): ${formData.freelancerName || '________________'} (서명/인)
    `, [formData, clauses]);

    const handleCopy = useCallback(() => {
        const contractText = generateContractText();
        navigator.clipboard.writeText(contractText.trim()).then(() => {
            alert('계약서 내용이 클립보드에 복사되었습니다.');
        }, () => {
            alert('복사에 실패했습니다. 브라우저 설정을 확인해주세요.');
        });
    }, [generateContractText]);

    const AnalysisItem: React.FC<{ title: string; description: string; isValid: boolean }> = ({ title, description, isValid }) => (
        <div className="flex items-start space-x-3">
            <div className="flex-shrink-0 mt-0.5">
                {isValid ? (
                    <AnalysisValidIcon className="h-5 w-5 text-emerald-500" />
                ) : (
                    <AnalysisInvalidIcon className="h-5 w-5 text-rose-500" />
                )}
            </div>
            <div>
                <h4 className="font-bold text-slate-100">{title}</h4>
                <p className="text-xs text-slate-400">{description}</p>
            </div>
        </div>
    );
    
    const ContractAnalysis = () => {
        const checks = {
            parties: formData.clientName.trim() !== '' && formData.freelancerName.trim() !== '',
            scope: formData.task.trim() !== '' && formData.deliverables.length > 0 && formData.deliverables.every(d => d.trim() !== ''),
            payment: formData.projectValue > 0 && clauses.payment.trim() !== '',
            ip: clauses.ip.trim() !== '',
            expert: true, // Based on expert templates
        };

        const allValid = Object.values(checks).every(Boolean);

        return (
            <div className="bg-slate-900/50 p-6 rounded-xl border border-slate-700 space-y-6 h-fit">
                <h3 className="flex items-center space-x-3 text-xl font-bold text-slate-100">
                    <ShieldCheckIcon className="h-7 w-7 text-primary-400 flex-shrink-0" />
                    <span>계약서 신뢰도 분석</span>
                </h3>
                <p className="text-sm text-slate-400 -mt-4">
                    FreeZone의 AI가 실시간으로 계약서를 분석하여, 분쟁을 막고 당신을 보호할 핵심 조항들이 잘 포함되었는지 확인해 드립니다.
                </p>
                <div className="space-y-4">
                    <AnalysisItem isValid={checks.parties} title="핵심 당사자 명시" description="분쟁 발생 시 책임 소재를 명확히 하기 위한 필수 정보입니다." />
                    <AnalysisItem isValid={checks.scope} title="구체적인 과업 범위" description="'해줘' 식의 추가 요청을 방지하는 가장 중요한 조항입니다." />
                    <AnalysisItem isValid={checks.payment} title="명확한 대금 지급 조건" description="미수금 위험을 줄이고 안정적인 수입을 보장합니다." />
                    <AnalysisItem isValid={checks.ip} title="저작권 귀속 명시" description="작업물의 소유권을 명확히 하여 2차 분쟁을 예방합니다." />
                    <AnalysisItem isValid={checks.expert} title="전문가 검토 기반" description="변호사가 검토한 표준 조항을 기반으로 해 법적 안정성을 더합니다." />
                </div>
                 {allValid && (
                    <div className="p-4 bg-emerald-900/50 border border-emerald-500/30 rounded-lg text-center space-y-2">
                        <p className="font-bold text-emerald-300">완벽한 보호 장치가 마련되었어요!</p>
                        <p className="text-sm text-emerald-400">
                            이 계약서는 구두 계약이나 불분명한 합의와 달리, 양측의 권리와 의무를 명확히 하여 잠재적인 분쟁을 예방하는 강력한 법적 근거가 됩니다.
                        </p>
                    </div>
                )}
            </div>
        );
    };


  return (
    <div className="bg-slate-950 text-slate-300">
      {/* Hero & Contract Section */}
      <section ref={contractRef} className="relative overflow-hidden bg-slate-950">
        <div className="absolute inset-0 bg-gradient-to-br from-primary-900/40 via-slate-950 to-slate-950"></div>
        <div className="absolute top-[-10rem] right-[-10rem] w-96 h-96 bg-primary-500/20 rounded-full blur-3xl animate-pulse"></div>
        <div className="absolute bottom-[-10rem] left-[-10rem] w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl animate-pulse delay-500"></div>
        
        <div className="relative max-w-7xl mx-auto py-24 px-6 sm:py-32 sm:px-8 lg:px-12 text-center">
          <h1 className="text-4xl font-bold tracking-tight text-transparent sm:text-6xl lg:text-7xl bg-clip-text bg-gradient-to-r from-slate-100 to-slate-400">
            가장 쉬운 계약서 작성
          </h1>
          <p className="mt-6 text-2xl font-bold text-primary-400 sm:text-3xl">혼자 일해도, 혼자 감당하진 않게.</p>
          <p className="mt-4 max-w-2xl mx-auto text-lg text-slate-300 sm:text-xl">
            구두 계약, 복잡한 서류는 이제 그만. <br /> 1분 만에 계약서를 만들고 당신의 권리를 지키세요.
          </p>
        </div>

        <div className="relative -mt-16 sm:-mt-24 pb-24 max-w-7xl mx-auto px-6 sm:px-8 lg:px-12">
            {/* Step Indicator */}
            <div className="flex justify-between items-center mb-12 max-w-3xl mx-auto">
                {[1, 2, 3].map(s => (
                    <React.Fragment key={s}>
                        <div className="flex flex-col items-center z-10">
                            <div className={`h-10 w-10 rounded-full flex items-center justify-center font-bold border-2 transition-all duration-300 ${step >= s ? 'bg-primary-500 border-primary-500 text-white' : 'bg-slate-800 border-slate-700 text-slate-400'}`}>
                                {step > s ? <CheckCircleIcon className="h-6 w-6" /> : s}
                            </div>
                            <p className={`mt-2 text-sm font-semibold ${step >= s ? 'text-primary-400' : 'text-slate-400'}`}>{['기본정보', '세부조항', '검토 및 완성'][s-1]}</p>
                        </div>
                        {s < 3 && <div className={`flex-1 h-1 mx-4 transition-colors duration-300 ${step > s ? 'bg-primary-500' : 'bg-slate-700'}`}></div>}
                    </React.Fragment>
                ))}
            </div>

            {/* Step 1: Basic Info */}
            {step === 1 && (
                <div className="bg-slate-900/30 backdrop-blur-sm p-8 rounded-2xl border border-slate-800 space-y-8 animate-fade-in max-w-5xl mx-auto">
                    <div>
                        <h2 className="text-2xl font-bold text-slate-100 mb-1">어떤 프로젝트 계약인가요?</h2>
                        <p className="text-slate-400">가장 중요한 프로젝트 종류를 먼저 선택해주세요.</p>
                    </div>
                     <div className="grid md:grid-cols-2 gap-6">
                        <div className="bg-slate-900/50 p-4 rounded-md border border-slate-700 space-y-2">
                            <label htmlFor="industry" className="font-semibold text-slate-300">분야</label>
                            <select id="industry" name="industry" value={formData.industry} onChange={handleFormChange} className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                                <option value="" disabled>분야를 선택하세요</option>
                                {INDUSTRY_OPTIONS.map(opt => <option key={opt} value={opt}>{opt}</option>)}
                            </select>
                        </div>
                         <div className="bg-slate-900/50 p-4 rounded-md border border-slate-700 space-y-2">
                            <label htmlFor="task" className="font-semibold text-slate-300">주요 과업</label>
                            <select id="task" name="task" value={formData.task} onChange={handleFormChange} disabled={!formData.industry} className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50">
                                <option value="" disabled>주요 과업을 선택하세요</option>
                                {TASK_OPTIONS[formData.industry]?.map(opt => <option key={opt} value={opt}>{opt}</option>)}
                            </select>
                        </div>
                    </div>

                    {showFullForm && (
                        <div className="space-y-8 animate-fade-in pt-8 border-t border-slate-700/50">
                            <div>
                                <h2 className="text-2xl font-bold text-slate-100 mb-1">프로젝트 기본 정보</h2>
                                <p className="text-slate-400">누가, 무엇을, 언제까지, 얼마에 진행하는지 명확히 정의해요.</p>
                            </div>
                            <div className="grid md:grid-cols-2 gap-6">
                                <div>
                                    <div className="bg-slate-900/50 p-4 rounded-md border border-slate-700 space-y-2">
                                        <label htmlFor="clientName" className="font-semibold text-slate-300">의뢰인 (갑)</label>
                                        <input type="text" id="clientName" name="clientName" value={formData.clientName} onChange={handleFormChange} placeholder="클라이언트 이름 또는 회사명" className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
                                    </div>
                                    <p className="flex items-start gap-2 mt-2 text-xs text-cyan-400">
                                        <LightBulbIcon className="h-4 w-4 flex-shrink-0 mt-0.5 text-cyan-500" />
                                        <span>누구와 계약하는지 명확히 해야 나중에 분쟁 시 책임을 물을 수 있어요.</span>
                                    </p>
                                </div>
                                <div>
                                    <div className="bg-slate-900/50 p-4 rounded-md border border-slate-700 space-y-2">
                                        <label htmlFor="freelancerName" className="font-semibold text-slate-300">작업자 (을)</label>
                                        <input type="text" id="freelancerName" name="freelancerName" value={formData.freelancerName} onChange={handleFormChange} placeholder="본인 이름 또는 활동명" className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
                                    </div>
                                    <p className="flex items-start gap-2 mt-2 text-xs text-cyan-400">
                                        <LightBulbIcon className="h-4 w-4 flex-shrink-0 mt-0.5 text-cyan-500" />
                                        <span>계약의 주체를 본인으로 명시하는 항목이에요. 활동명도 괜찮아요.</span>
                                    </p>
                                </div>
                            </div>
                            <div>
                                <div className="bg-slate-900/50 p-4 rounded-md border border-slate-700 space-y-2">
                                    <label htmlFor="projectName" className="font-semibold text-slate-300">프로젝트명</label>
                                    <input type="text" id="projectName" name="projectName" value={formData.projectName} onChange={handleFormChange} placeholder="예: 2024년 브랜드 리뉴얼" className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
                                </div>
                                <p className="flex items-start gap-2 mt-2 text-xs text-cyan-400">
                                    <LightBulbIcon className="h-4 w-4 flex-shrink-0 mt-0.5 text-cyan-500" />
                                    <span>여러 프로젝트를 동시에 진행할 때 계약서를 구분하고 관리하기 편해요.</span>
                                </p>
                            </div>
                            <div>
                                <div className="bg-slate-900/50 p-4 rounded-md border border-slate-700 space-y-4">
                                    <label className="font-semibold text-slate-300">최종 산출물</label>
                                    {formData.deliverables.map((item, index) => (
                                        <div key={index} className="flex items-center gap-2">
                                            <input type="text" value={item} onChange={(e) => handleDeliverableChange(index, e.target.value)} className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
                                            <button type="button" onClick={() => removeDeliverable(index)} className="p-2 text-slate-500 hover:text-rose-400"><XMarkIcon className="h-5 w-5"/></button>
                                        </div>
                                    ))}
                                    <button type="button" onClick={addDeliverable} className="text-sm font-semibold text-primary-400 hover:text-primary-300 flex items-center space-x-1 pt-2"><PlusIcon className="h-4 w-4"/><span>산출물 추가</span></button>
                                </div>
                                <p className="flex items-start gap-2 mt-2 text-xs text-cyan-400">
                                    <LightBulbIcon className="h-4 w-4 flex-shrink-0 mt-0.5 text-cyan-500" />
                                    <span>"알아서 잘"은 분쟁의 씨앗! 결과물을 구체적으로 적을수록 좋아요.</span>
                                </p>
                            </div>
                            <div>
                                <div className="bg-slate-900/50 p-4 rounded-md border border-slate-700 space-y-2">
                                    <label htmlFor="projectValue" className="font-semibold text-slate-300">총 계약 금액 (VAT 별도)</label>
                                    <div className="relative">
                                        <input type="text" id="projectValue" name="projectValue" value={formData.projectValue.toLocaleString('ko-KR')} onChange={handleFormChange} className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 pl-8 focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
                                        <span className="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">₩</span>
                                    </div>
                                    <p className="text-right text-sm text-slate-400">금 {numberToKoreanWon(formData.projectValue)} 원정</p>
                                </div>
                                <p className="flex items-start gap-2 mt-2 text-xs text-cyan-400">
                                    <LightBulbIcon className="h-4 w-4 flex-shrink-0 mt-0.5 text-cyan-500" />
                                    <span>가장 중요한 부분! 정확한 금액을 적어야 나중에 떼일 위험이 없어요.</span>
                                </p>
                            </div>
                            <div>
                                <div className="bg-slate-900/50 p-4 rounded-md border border-slate-700 space-y-2">
                                    <label className="font-semibold text-slate-300">계약 기간</label>
                                    <div className="grid md:grid-cols-2 gap-6">
                                        <input type="date" id="startDate" name="startDate" value={formData.startDate} onChange={handleFormChange} className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-primary-500 focus:border-primary-500" />
                                        <input type="date" id="endDate" name="endDate" value={formData.endDate} onChange={handleFormChange} className={`w-full bg-slate-800 border rounded-md p-3 transition-colors ${dateError ? 'border-rose-500 focus:ring-rose-500 focus:border-rose-500' : 'border-slate-700 focus:ring-primary-500 focus:border-primary-500'}`} />
                                    </div>
                                    {dateError && <p className="text-sm text-rose-400 text-center pt-2">{dateError}</p>}
                                </div>
                                <p className="flex items-start gap-2 mt-2 text-xs text-cyan-400">
                                    <LightBulbIcon className="h-4 w-4 flex-shrink-0 mt-0.5 text-cyan-500" />
                                    <span>업무 기간을 명확히 해야 끝없는 수정과 추가 요청의 늪에서 벗어날 수 있어요.</span>
                                </p>
                            </div>
                            <div className="flex justify-end pt-4">
                                <button 
                                onClick={() => handleStepChange(2)} 
                                disabled={!!dateError}
                                className="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-bold rounded-full text-white bg-primary-600 hover:bg-primary-500 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100">
                                    다음: 세부 조항 작성
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            )}
            
            {/* Step 2: Clauses */}
            {step === 2 && (
                <div className="bg-slate-900/30 backdrop-blur-sm p-8 rounded-2xl border border-slate-800 space-y-8 animate-fade-in max-w-5xl mx-auto">
                    <div>
                        <h2 className="text-2xl font-bold text-slate-100 mb-1">세부 조항 선택</h2>
                        <p className="text-slate-400">분쟁을 막는 핵심 조항들을 꼼꼼하게 선택하고, 필요하다면 직접 수정하세요.</p>
                    </div>
                    <div className="space-y-8">
                        {clauseFields.map(({ key, title, icon }) => {
                            const suggestions = (guidanceForTask as any)?.[key] || [];

                            return (
                                <div key={key} className="bg-slate-900/50 p-6 rounded-xl border border-slate-700">
                                    <div className="flex items-center space-x-2 text-lg font-semibold text-slate-100 mb-2">
                                        {React.cloneElement(icon, { className: "h-6 w-6 text-primary-400" })}
                                        <span>{title}</span>
                                        <button type="button" onMouseEnter={() => setActiveClauseHelp(key)} onMouseLeave={() => setActiveClauseHelp(null)} className="group relative">
                                            <QuestionMarkCircleIcon className="h-5 w-5 text-slate-500" />
                                            {activeClauseHelp === key && (
                                                <div className="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-72 bg-slate-700 text-slate-200 text-xs rounded-lg p-3 z-10 shadow-lg border border-slate-600">
                                                    {CLAUSE_TIPS[key]}
                                                    <div className="absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-x-4 border-x-transparent border-t-4 border-t-slate-700"></div>
                                                </div>
                                            )}
                                        </button>
                                    </div>
                                    
                                    {suggestions.length > 0 ? (
                                        <div className="mt-4">
                                            <h3 className="text-sm font-semibold text-cyan-400 mb-2 flex items-center space-x-1.5">
                                                <LightBulbIcon className="h-4 w-4" />
                                                <span>전문가 추천 조항</span>
                                            </h3>
                                            <p className="text-xs text-slate-400 mb-4">
                                                아래 추천 조항 중 프로젝트에 가장 적합한 것을 선택하세요. 선택 후 직접 수정할 수도 있습니다.
                                            </p>
                                            <div className="space-y-4">
                                                {suggestions.map((item: any, index: number) => (
                                                    <button
                                                        key={index}
                                                        type="button"
                                                        onClick={() => handleApplySuggestion(key, item.suggestion)}
                                                        className={`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ease-in-out transform ${(clauses as any)[key] === item.suggestion ? 'bg-primary-900/30 border-primary-500 scale-[1.01]' : 'bg-slate-800 border-slate-700 hover:border-slate-500'}`}
                                                    >
                                                        <h4 className="font-bold text-md text-slate-100">{item.title}</h4>
                                                        <div className="mt-2 p-3 bg-slate-900 rounded-md border border-slate-700">
                                                            <pre className="whitespace-pre-wrap font-sans text-sm text-slate-300">{item.suggestion}</pre>
                                                        </div>
                                                        <div className="mt-3 p-3 bg-slate-800/50 rounded-md text-xs text-slate-400 border-l-4 border-slate-600">
                                                            <pre className="whitespace-pre-wrap font-sans">{item.rationale}</pre>
                                                        </div>
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                    ) : (
                                        <textarea
                                            id={key}
                                            name={key}
                                            value={(clauses as any)[key]}
                                            onChange={handleClauseChange}
                                            rows={4}
                                            placeholder={CLAUSE_PLACEHOLDERS[key]}
                                            className="mt-2 w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
                                        />
                                    )}

                                    <div className="mt-6">
                                        <button
                                            type="button"
                                            onClick={() => toggleCustomEdit(key)}
                                            className="text-sm font-semibold text-cyan-400 hover:text-cyan-300 flex items-center space-x-1 transition-colors"
                                        >
                                            <PencilSquareIcon className="h-4 w-4" />
                                            <span>{customEdit.has(key) ? '수정 창 닫기' : '선택한 조항 직접 수정하기'}</span>
                                        </button>
                                        {customEdit.has(key) && (
                                            <textarea
                                                id={`custom-${key}`}
                                                name={key}
                                                value={(clauses as any)[key]}
                                                onChange={handleClauseChange}
                                                rows={6}
                                                className="mt-2 w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors animate-fade-in-fast"
                                            />
                                        )}
                                    </div>
                                </div>
                            );
                        })}
                   </div>
                    <div className="flex justify-between">
                        <button onClick={() => handleStepChange(1)} className="inline-flex items-center justify-center px-6 py-3 border border-slate-600 text-base font-bold rounded-full text-slate-300 bg-slate-800 hover:bg-slate-700 transition-colors">이전</button>
                        <button onClick={() => handleStepChange(3)} className="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-bold rounded-full text-white bg-primary-600 hover:bg-primary-500 transition-all transform hover:scale-105">다음: 계약서 검토</button>
                    </div>
                </div>
            )}

            {/* Step 3: Preview */}
            {step === 3 && (
                <div className="bg-slate-900/30 backdrop-blur-sm p-8 rounded-2xl border border-slate-800 animate-fade-in max-w-7xl mx-auto">
                     <div>
                        <h2 className="text-2xl font-bold text-slate-100 mb-1">계약서 검토 및 완성</h2>
                        <p className="text-slate-400">최종 내용을 확인하고 계약을 완성하세요.</p>
                    </div>
                    
                    <div className="mt-8 grid lg:grid-cols-3 gap-8 items-start">
                        <div className="lg:col-span-2 relative">
                            <div className={`p-6 bg-slate-900 border border-slate-700 rounded-lg max-h-[70vh] overflow-y-auto transition-all duration-300 ${!notificationClicked ? 'blur-sm select-none' : ''}`}>
                                <pre className="whitespace-pre-wrap font-sans text-sm text-slate-200 leading-relaxed">
                                    {generateContractText()}
                                </pre>
                            </div>
                            {!notificationClicked && (
                                <div className="absolute inset-0 bg-slate-900/80 backdrop-blur-sm rounded-lg flex flex-col items-center justify-center text-center p-8 space-y-8">
                                    <p className="text-lg font-semibold text-slate-200">👇 아래 버튼을 눌러 계약서를 잠금 해제하세요.</p>
                                    <button onClick={() => setNotificationClicked(true)} className="inline-flex items-center justify-center px-8 py-4 border border-transparent text-lg font-bold rounded-full text-white bg-primary-600 hover:bg-primary-500 transition-all transform hover:scale-105">
                                        <BellIcon className="h-6 w-6 mr-3"/>
                                        출시 알림 받고 계약서 잠금 해제
                                    </button>
                                </div>
                            )}
                        </div>
                        <div className="lg:col-span-1">
                            <ContractAnalysis />
                        </div>
                    </div>
                    <div className="mt-8 flex flex-wrap gap-4 justify-center min-h-[40px]">
                        {notificationClicked && (
                            <button onClick={handleCopy} className="flex items-center justify-center px-5 py-2 border border-slate-600 text-sm font-bold rounded-full text-slate-300 bg-slate-800 hover:bg-slate-700 transition-colors animate-fade-in">본문 복사</button>
                        )}
                    </div>
                    <div className="mt-12 flex justify-between">
                         <button onClick={() => handleStepChange(2)} className="inline-flex items-center justify-center px-6 py-3 border border-slate-600 text-base font-bold rounded-full text-slate-300 bg-slate-800 hover:bg-slate-700 transition-colors">이전</button>
                         {notificationClicked && (
                            <button disabled className="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-bold rounded-full text-white bg-emerald-600 cursor-not-allowed">
                                <CheckCircleIcon className="h-5 w-5 mr-2"/>
                                알림 신청 완료!
                            </button>
                         )}
                    </div>
                </div>
            )}
        </div>
      </section>

      {/* How it works Section */}
      <section className="py-20 sm:py-24">
         <div className="max-w-7xl mx-auto px-6 sm:px-8 lg:px-12">
            <div className="text-center">
              <h2 className="text-3xl font-bold text-slate-100 mb-4">계약서 작성, 이렇게 쉬워요</h2>
              <p className="text-lg text-slate-400 max-w-3xl mx-auto">더 이상 만나서 도장 찍을 필요 없어요. FreeZone이면 계약서 작성의 모든 과정이 끝납니다.</p>
            </div>
            <div className="mt-20 relative">
              <div className="grid md:grid-cols-3 gap-y-16 md:gap-x-16 text-center">
                
                <div className="relative">
                  <div className="absolute -top-12 left-1/2 -translate-x-1/2 bg-slate-800 border-2 border-primary-500/50 rounded-full h-16 w-16 flex items-center justify-center font-bold text-2xl text-primary-400">1</div>
                  <div className="bg-slate-800/50 p-8 rounded-2xl border border-slate-700 h-full">
                    <DocumentTextIcon className="h-12 w-12 text-primary-400 mx-auto mb-4" />
                    <h3 className="text-xl font-bold text-slate-100">계약서 생성</h3>
                    <p className="mt-2 text-slate-400">분야별 전문가가 검토한 템플릿에 프로젝트 정보만 입력하면 계약서가 뚝딱 완성돼요.</p>
                  </div>
                </div>

                <div className="relative">
                  <div className="absolute -top-12 left-1/2 -translate-x-1/2 bg-slate-800 border-2 border-primary-500/50 rounded-full h-16 w-16 flex items-center justify-center font-bold text-2xl text-primary-400">2</div>
                  <div className="bg-slate-800/50 p-8 rounded-2xl border border-slate-700 h-full">
                    <ShareIcon className="h-12 w-12 text-primary-400 mx-auto mb-4" />
                    <h3 className="text-xl font-bold text-slate-100">내용 전달</h3>
                    <p className="mt-2 text-slate-400">완성된 계약서 내용을 복사해 이메일, 카톡 등 편한 방법으로 상대방에게 전달하고 조율하세요.</p>
                  </div>
                </div>

                <div className="relative">
                  <div className="absolute -top-12 left-1/2 -translate-x-1/2 bg-slate-800 border-2 border-primary-500/50 rounded-full h-16 w-16 flex items-center justify-center font-bold text-2xl text-primary-400">3</div>
                   <div className="bg-slate-800/50 p-8 rounded-2xl border border-slate-700 h-full">
                    <SignatureIcon className="h-12 w-12 text-primary-400 mx-auto mb-4" />
                    <h3 className="text-xl font-bold text-slate-100">서명 및 보관</h3>
                    <p className="mt-2 text-slate-400">최종 합의된 내용에 양측이 서명하면 계약 완료! 계약서는 각자 안전하게 보관하여 효력을 갖추세요.</p>
                  </div>
                </div>
              </div>
            </div>
         </div>
      </section>
      
      {/* Features Section */}
      <section className="py-20 sm:py-24 bg-slate-900/50">
        <div className="max-w-7xl mx-auto px-6 sm:px-8 lg:px-12">
          <div className="text-center max-w-3xl mx-auto">
            <h2 className="text-3xl font-extrabold text-slate-100 sm:text-4xl">당신의 시간을 아껴줄 강력한 기능</h2>
            <p className="mt-4 text-lg text-slate-400">
              FreeZone 계약은 단순한 문서 작성을 넘어, 프리랜서에게 꼭 필요한 안전장치를 제공합니다.
            </p>
          </div>
          <div className="mt-16 max-w-7xl mx-auto grid md:grid-cols-2 gap-8">
            <div className="bg-slate-800 p-6 rounded-lg border border-slate-700 flex items-start space-x-4">
              <DocumentDuplicateIcon className="h-8 w-8 text-cyan-400 flex-shrink-0 mt-1" />
              <div>
                <h3 className="text-lg font-bold text-slate-100">분야별 표준 템플릿</h3>
                <p className="mt-1 text-slate-400">IT/개발, 디자인, 마케팅 등 분야별 전문가가 검토한 계약서로, 놓치기 쉬운 필수 조항까지 꼼꼼하게 챙길 수 있습니다.</p>
              </div>
            </div>
             <div className="bg-slate-800 p-6 rounded-lg border border-slate-700 flex items-start space-x-4">
              <ScaleIcon className="h-8 w-8 text-primary-400 flex-shrink-0 mt-1" />
              <div>
                <h3 className="text-lg font-bold text-slate-100">분쟁 방지 맞춤 조항</h3>
                <p className="mt-1 text-slate-400">변호사가 검토한 표준 조항들을 바탕으로, 분쟁 발생 시 당신을 보호할 든든한 법적 근거를 마련합니다.</p>
              </div>
            </div>
             <div className="bg-slate-800 p-6 rounded-lg border border-slate-700 flex items-start space-x-4">
              <LightBulbIcon className="h-8 w-8 text-cyan-400 flex-shrink-0 mt-1" />
              <div>
                <h3 className="text-lg font-bold text-slate-100">AI 기반 전문가 조항 추천</h3>
                <p className="mt-1 text-slate-400">어떤 조항을 넣어야 할지 막막한가요? 프로젝트 종류와 금액에 맞춰 전문가가 추천하는 맞춤 조항을 바로 적용해 보세요.</p>
              </div>
            </div>
             <div className="bg-slate-800 p-6 rounded-lg border border-slate-700 flex items-start space-x-4">
              <ShieldCheckIcon className="h-8 w-8 text-primary-400 flex-shrink-0 mt-1" />
              <div>
                <h3 className="text-lg font-bold text-slate-100">안전한 계약서 생성</h3>
                <p className="mt-1 text-slate-400">입력한 정보는 어디에도 저장되지 않습니다. 안심하고 당신에게 꼭 맞는 계약서를 만들어보세요.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Final CTA Section */}
      <section className="py-20 sm:py-24">
        <div className="max-w-7xl mx-auto px-6 sm:px-8 lg:px-12">
            <div className="max-w-5xl mx-auto text-center bg-gradient-to-br from-primary-600/20 to-cyan-600/20 p-10 rounded-2xl border border-primary-500/30">
              <h2 className="text-3xl font-extrabold text-slate-100">이제, 계약 때문에 불안해하지 마세요.</h2>
              <p className="mt-4 text-lg text-slate-300">
                FreeZone과 함께 당신의 소중한 시간과 노력을 지키고, <br/>일에만 온전히 집중하는 즐거움을 되찾으세요.
              </p>
              <div className="mt-8">
                  <button 
                    onClick={onGoToContract} 
                    className="inline-flex items-center justify-center px-8 py-3 border border-transparent text-lg font-bold rounded-full text-white bg-primary-600 hover:bg-primary-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-950 focus:ring-primary-500 transition-all transform hover:scale-105">
                      무료로 계약 시작하기
                  </button>
              </div>
            </div>
        </div>
      </section>
    </div>
  );
};

export default LandingPage;