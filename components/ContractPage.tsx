import React, { useState, useEffect, useMemo, useCallback } from 'react';
import { DocumentTextIcon, PlusIcon, LightBulbIcon, CheckCircleIcon, ScopeIcon, RevisionsIcon, DollarIcon, IPRightsIcon, TerminationIcon, FeedbackIcon, DocumentDuplicateIcon, ClipboardIcon, PrinterIcon, XMarkIcon, ScaleIcon, QuestionMarkCircleIcon, ShareIcon, PencilSquareIcon, ArrowLeftIcon, PaletteIcon, CodeIcon, BriefcaseIcon, SignatureIcon, ClockIcon } from './Icons';

const INDUSTRY_OPTIONS = ['ë””ìì¸', 'IT/ê°œë°œ', 'ë§ˆì¼€íŒ…/ì½˜í…ì¸ '];
const TASK_OPTIONS: Record<string, string[]> = {
  'ë””ìì¸': ['ë¡œê³  ë””ìì¸', 'ìƒì„¸í˜ì´ì§€ ë””ìì¸', 'ì›¹/ì•± UI/UX ë””ìì¸'],
  'IT/ê°œë°œ': ['ì›¹ì‚¬ì´íŠ¸ ê°œë°œ', 'ëª¨ë°”ì¼ ì•± ê°œë°œ', 'ë°±ì—”ë“œ API ê°œë°œ'],
  'ë§ˆì¼€íŒ…/ì½˜í…ì¸ ': ['ë¸”ë¡œê·¸ ì½˜í…ì¸  ì œì‘', 'SNS ì±„ë„ ìš´ì˜', 'ê´‘ê³  ìº í˜ì¸ ê´€ë¦¬'],
};
const DELIVERABLE_OPTIONS: Record<string, string[]> = {
  'ë¡œê³  ë””ìì¸': ['AI ì›ë³¸ íŒŒì¼', 'PNG/JPG íŒŒì¼', 'ë¸Œëœë“œ ê°€ì´ë“œë¼ì¸ PDF'],
  'ìƒì„¸í˜ì´ì§€ ë””ìì¸': ['PSD/AI ì›ë³¸ íŒŒì¼', 'ì›¹ìš© JPG íŒŒì¼', 'í°íŠ¸ ë¼ì´ì„ ìŠ¤ ì •ë³´'],
  'ì›¹/ì•± UI/UX ë””ìì¸': ['Figma/XD ì›ë³¸ íŒŒì¼', 'ë””ìì¸ ì‹œìŠ¤í…œ ê°€ì´ë“œ', 'í”„ë¡œí† íƒ€ì… ë§í¬'],
  'ì›¹ì‚¬ì´íŠ¸ ê°œë°œ': ['ì „ì²´ ì†ŒìŠ¤ì½”ë“œ', 'ê°œë°œ ì‚°ì¶œë¬¼ ë¬¸ì„œ', 'ì„œë²„ ë°°í¬ ì§€ì›'],
  'ëª¨ë°”ì¼ ì•± ê°œë°œ': ['ì „ì²´ ì†ŒìŠ¤ì½”ë“œ', 'API ëª…ì„¸ì„œ', 'ìŠ¤í† ì–´ ì‹¬ì‚¬ ì§€ì›'],
  'ë°±ì—”ë“œ API ê°œë°œ': ['API ëª…ì„¸ì„œ (Swagger/Postman)', 'ì„œë²„ ì†ŒìŠ¤ì½”ë“œ', 'ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ'],
  'ë¸”ë¡œê·¸ ì½˜í…ì¸  ì œì‘': ['ì›ê³  HWP/DOCX íŒŒì¼', 'í¬ìŠ¤íŒ…ìš© ì´ë¯¸ì§€ íŒŒì¼', 'ê²€ìˆ˜ í™•ì¸ì„œ'],
  'SNS ì±„ë„ ìš´ì˜': ['ì›”ê°„ ì½˜í…ì¸  ìº˜ë¦°ë”', 'ì±„ë„ ë°ì´í„° ë¶„ì„ ë³´ê³ ì„œ', 'ì›ë³¸ ì´ë¯¸ì§€/ì˜ìƒ íŒŒì¼'],
  'ê´‘ê³  ìº í˜ì¸ ê´€ë¦¬': ['ê´‘ê³  ì†Œì¬ íŒŒì¼', 'ë§¤ì²´ë³„ ì„±ê³¼ ë³´ê³ ì„œ', 'ìº í˜ì¸ ì„¸íŒ… ë‚´ì—­'],
};


const CLAUSE_PLACEHOLDERS: Record<string, string> = {
    revisions: 'ì˜ˆ: ìµœì´ˆ ì‹œì•ˆ í™•ì¸ í›„ 1íšŒ, ìµœì¢… ì‹œì•ˆ í™•ì • í›„ 1íšŒë¡œ ì´ 2íšŒ ìˆ˜ì •ì„ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤...',
    payment: 'ì˜ˆ: ì„ ê¸ˆ 50% (ê³„ì•½ ì²´ê²° í›„ 3ì¼ ì´ë‚´), ì”ê¸ˆ 50% (ìµœì¢… ì‚°ì¶œë¬¼ ê²€ìˆ˜ ì™„ë£Œ í›„ 3ì¼ ì´ë‚´)...',
    ip: 'ì˜ˆ: ìµœì¢… ì„ íƒëœ ê²°ê³¼ë¬¼ì— ëŒ€í•œ ì €ì‘ì¬ì‚°ê¶Œì€ ì”ê¸ˆ ì§€ê¸‰ ì™„ë£Œ ì‹œ ì˜ë¢°ì¸ì—ê²Œ ê·€ì†ë©ë‹ˆë‹¤...',
    termination: 'ì˜ˆ: ì˜ë¢°ì¸ì˜ ë‹¨ìˆœ ë³€ì‹¬ìœ¼ë¡œ ê³„ì•½ í•´ì§€ ì‹œ, ì„ ê¸ˆì€ í™˜ë¶ˆë˜ì§€ ì•ŠìŠµë‹ˆë‹¤...',
    feedback: 'ì˜ˆ: ê° ì‹œì•ˆ ë°œì†¡ í›„ 3 ì˜ì—…ì¼ ì´ë‚´ì— í”¼ë“œë°±ì„ ì œê³µí•˜ë©°, ì§€ì •ëœ ì±„ë„(ì˜ˆ: ì´ë©”ì¼, ìŠ¬ë™)ë¡œ í†µí•©í•˜ì—¬ ì „ë‹¬í•©ë‹ˆë‹¤...',
    review: 'ì˜ˆ: ë³¸ ê³„ì•½ê³¼ ê´€ë ¨í•˜ì—¬ ì•Œê²Œ ëœ ìƒí˜¸ì˜ ëª¨ë“  ì •ë³´ëŠ” ì™¸ë¶€ì— ìœ ì¶œí•˜ì§€ ì•Šìœ¼ë©°, ê³„ì•½ ì¢…ë£Œ í›„ 3ë…„ê°„ ë¹„ë°€ìœ ì§€ ì˜ë¬´ë¥¼ ê°€ì§‘ë‹ˆë‹¤...',
};

const CLAUSE_TIPS: Record<string, string> = {
    scope: "ì‘ì—… ë²”ìœ„ë¥¼ ëª…í™•íˆ í• ìˆ˜ë¡ 'ì´ê²ƒë„ í•´ì£¼ì„¸ìš”'ë¼ëŠ” ì¶”ê°€ ìš”ì²­ì„ ë°©ì§€í•  ìˆ˜ ìˆì–´ìš”.",
    revisions: "ìˆ˜ì • íšŸìˆ˜ì™€ ì¶”ê°€ ë¹„ìš©ì„ ëª…ì‹œí•˜ëŠ” ê²ƒì€ ëì—†ëŠ” ìˆ˜ì •ì„ ë§‰ëŠ” ê°€ì¥ íš¨ê³¼ì ì¸ ë°©ë²•ì…ë‹ˆë‹¤.",
    payment: "ëŒ€ê¸ˆ ì§€ê¸‰ ì‹œì ê³¼ ë°©ì‹ì„ ëª…í™•íˆ í•´ì•¼ ì•ˆì •ì ì¸ ìˆ˜ì…ì„ ê³„íší•˜ê³  ë¯¸ìˆ˜ê¸ˆ ìœ„í—˜ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    ip: "ì €ì‘ê¶Œ ê·€ì†ê³¼ í¬íŠ¸í´ë¦¬ì˜¤ ì‚¬ìš© ê¶Œí•œì„ ëª…ì‹œí•´ì•¼ ë‚˜ì˜ ì†Œì¤‘í•œ ì‘ì—…ë¬¼ì„ ìì‚°ìœ¼ë¡œ í™œìš©í•˜ê³  ë¶„ìŸì„ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    termination: "ê³„ì•½ì´ ì¤‘ë„ì— í•´ì§€ë  ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ ì±…ì„ ì†Œì¬ì™€ ë¹„ìš© ì •ì‚° ê¸°ì¤€ì„ ì •í•´ë‘ì–´ì•¼ ì†í•´ë¥¼ ë³´ì§€ ì•ŠìŠµë‹ˆë‹¤.",
    feedback: "ëª…í™•í•œ í”¼ë“œë°± ê¸°í•œê³¼ ì†Œí†µ ì±„ë„ ì§€ì •ì€ í”„ë¡œì íŠ¸ ì§€ì—°ì„ ë§‰ê³ , ëª¨ë“  ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ê¸°ë¡ì„ ë‚¨ê²¨ ë¶„ìŸì„ ì˜ˆë°©í•©ë‹ˆë‹¤.",
    review: "ë¹„ë°€ìœ ì§€ ì˜ë¬´, í•˜ìë³´ìˆ˜ ê¸°ê°„ ë“± í”„ë¡œì íŠ¸ì˜ íŠ¹ìˆ˜ì„±ì„ ë°˜ì˜í•œ ë‚´ìš©ì„ ì¶”ê°€í•˜ì—¬ ì˜ˆìƒì¹˜ ëª»í•œ ë¶„ìŸì„ ì˜ˆë°©í•˜ì„¸ìš”.",
};

const numberToKoreanWon = (num: number): string => {
    if (typeof num !== 'number' || isNaN(num)) return '';
    if (num === 0) return 'ì˜';
    
    const numStr = String(num);
    if (num >= 10000000000000000) return 'ê¸ˆì•¡ì´ ë„ˆë¬´ í½ë‹ˆë‹¤.';

    const units = ['', 'ë§Œ', 'ì–µ', 'ì¡°', 'ê²½'];
    const digits = ['', 'ì¼', 'ì´', 'ì‚¼', 'ì‚¬', 'ì˜¤', 'ìœ¡', 'ì¹ ', 'íŒ”', 'êµ¬'];
    const smallUnits = ['', 'ì‹­', 'ë°±', 'ì²œ'];
    
    let result = '';
    let unitIndex = 0;
    
    for (let i = numStr.length; i > 0; i -= 4) {
        let chunkStr = numStr.substring(Math.max(0, i - 4), i);
        if (!chunkStr) continue;

        let chunkKorean = '';
        for (let j = 0; j < chunkStr.length; j++) {
            const digit = parseInt(chunkStr[j]);
            if (digit > 0) {
                chunkKorean += digits[digit];
                if (j < chunkStr.length - 1) {
                    chunkKorean += smallUnits[chunkStr.length - 1 - j];
                }
            }
        }
        
        if (chunkKorean) {
          chunkKorean = chunkKorean.replace(/ì¼([ì‹­ë°±ì²œ])/g, '$1');
          result = chunkKorean + units[unitIndex] + result;
        }
        
        unitIndex++;
    }

    return result.trim() || 'ì˜';
};

const getClauseGuidance = (projectValue: number) => {
    const commonClauses = {
        termination: [
            {
                title: 'í‘œì¤€í˜•: ê·€ì±…ì‚¬ìœ  ê¸°ì¤€',
                suggestion: 'ì˜ë¢°ì¸ì˜ ë‹¨ìˆœ ë³€ì‹¬ìœ¼ë¡œ ê³„ì•½ í•´ì§€ ì‹œ, ì„ ê¸ˆì€ í™˜ë¶ˆë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nì‘ì—…ìì˜ ê·€ì±… ì‚¬ìœ ë¡œ ê³„ì•½ ì´í–‰ì´ ë¶ˆê°€ëŠ¥í•  ê²½ìš°, ì„ ê¸ˆ ì „ì•¡ì„ í™˜ë¶ˆí•˜ê³  ì´ ê³„ì•½ê¸ˆì•¡ì˜ 20%ë¥¼ ì†í•´ë°°ìƒê¸ˆìœ¼ë¡œ ì§€ê¸‰í•©ë‹ˆë‹¤.',
                rationale: `ğŸ¤” ë¬¸ì œì : ì¼ë°©ì ì¸ ê³„ì•½ íŒŒê¸°ëŠ” ì–‘ì¸¡ ëª¨ë‘ì—ê²Œ ê¸ˆì „ì , ì‹œê°„ì  ì†í•´ë¥¼ ì•¼ê¸°í•©ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ê° ë‹¹ì‚¬ìì˜ ê·€ì±…ì‚¬ìœ ì— ë”°ë¥¸ ì±…ì„ ë²”ìœ„ë¥¼ ëª…í™•íˆ í•˜ì—¬ ë¶€ë‹¹í•œ ê³„ì•½ íŒŒê¸°ë¥¼ ë°©ì§€í•˜ê³ , ë¶„ìŸ ë°œìƒ ì‹œ í•´ê²° ê¸°ì¤€ì„ ì œì‹œí•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
            },
        ],
        feedback: [
            {
                title: 'í‘œì¤€í˜•: íš¨ìœ¨ì ì¸ ì†Œí†µ',
                suggestion: 'ê° ë‹¨ê³„ë³„ ê²°ê³¼ë¬¼ ê³µìœ  í›„ 3 ì˜ì—…ì¼ ì´ë‚´ì— í”¼ë“œë°±ì„ ì œê³µí•©ë‹ˆë‹¤. í”¼ë“œë°±ì€ ì§€ì •ëœ ì±„ë„(ì˜ˆ: ì´ë©”ì¼, ìŠ¬ë™)ë¡œ ì¼ì›í™”í•˜ì—¬ ì „ë‹¬í•˜ë©°, êµ¬ë‘ ìš”ì²­ì€ íš¨ë ¥ì´ ì—†ìŠµë‹ˆë‹¤.',
                rationale: `ğŸ¤” ë¬¸ì œì : í”¼ë“œë°± ì§€ì—°ê³¼ ë¶„ì‚°ëœ ì†Œí†µì€ í”„ë¡œì íŠ¸ ì§€ì—°ì˜ ì£¼ëœ ì›ì¸ì…ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ëª…í™•í•œ í”¼ë“œë°± ê¸°í•œê³¼ ì†Œí†µ ì±„ë„ ì§€ì •ì€ í”„ë¡œì íŠ¸ ì§€ì—°ì„ ë§‰ê³ , ëª¨ë“  ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ê¸°ë¡ì„ ë‚¨ê²¨ ë¶„ìŸì„ ì˜ˆë°©í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ì„±ê³µì ì¸ í”„ë¡œì íŠ¸ ê´€ë¦¬ë¥¼ ìœ„í•œ í•„ìˆ˜ í˜‘ì—… ê·œì¹™ì…ë‹ˆë‹¤.)`
            },
        ],
        review: [
            {
                title: 'í‘œì¤€í˜•: ë¹„ë°€ìœ ì§€ ì˜ë¬´',
                suggestion: 'ì–‘ ë‹¹ì‚¬ìëŠ” ë³¸ ê³„ì•½ê³¼ ê´€ë ¨í•˜ì—¬ ì•Œê²Œ ëœ ìƒëŒ€ë°©ì˜ ì˜ì—…ìƒ, ê¸°ìˆ ìƒ ë¹„ë°€ì„ ì œ3ìì—ê²Œ ëˆ„ì„¤í•´ì„œëŠ” ì•ˆ ë˜ë©°, ì´ ì˜ë¬´ëŠ” ê³„ì•½ ì¢…ë£Œ í›„ 3ë…„ê°„ ìœ íš¨í•©ë‹ˆë‹¤.',
                rationale: `ğŸ¤” ë¬¸ì œì : í”„ë¡œì íŠ¸ ê³¼ì •ì—ì„œ ê³µìœ ë˜ëŠ” ë¯¼ê° ì •ë³´ê°€ ìœ ì¶œë  ê²½ìš°, ì‹¬ê°í•œ ì‚¬ì—…ì  í”¼í•´ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ìƒí˜¸ ì‹ ë¢°ë¥¼ êµ¬ì¶•í•˜ê³ , ì–‘ì¸¡ì˜ í•µì‹¬ ìì‚°ì„ ë³´í˜¸í•˜ê¸° ìœ„í•œ í•„ìˆ˜ì ì¸ ë²•ì  ì¥ì¹˜ì…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
            },
        ]
    };

    return {
        'ë¡œê³  ë””ìì¸': {
            ...commonClauses,
            revisions: [
                {
                    title: 'í‘œì¤€í˜•: íšŸìˆ˜ ì§€ì •',
                    suggestion: 'ìµœì´ˆ ì‹œì•ˆ(2ì¢…) í™•ì¸ í›„ 1íšŒ, ìµœì¢… ì‹œì•ˆ í™•ì • í›„ 1íšŒë¡œ ì´ 2íšŒì˜ ìˆ˜ì •ì„ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤. ì´ˆê³¼ ìˆ˜ì •ì€ ë³„ë„ ë¹„ìš©ì´ ë°œìƒí•©ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ê¸°ì¤€ ì—†ëŠ” ìˆ˜ì • ìš”ì²­ì€ í”„ë¡œì íŠ¸ ì§€ì—°ê³¼ ë¶„ìŸì˜ ì›ì¸ì´ ë©ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ëª…í™•í•œ ìˆ˜ì • íšŸìˆ˜ë¥¼ ì •í•´ ë¶„ìŸì„ ë§‰ê³  í”„ë¡œì íŠ¸ ì§€ì—°ì„ ë°©ì§€í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
                {
                    title: 'ëŒ€ì•ˆí˜•: ë‹¨ê³„ë³„ ìˆ˜ì •',
                    suggestion: 'ì‹œì•ˆ ë‹¨ê³„(2íšŒ), ë””ë²¨ë¡­ ë‹¨ê³„(2íšŒ), ìµœì¢… ë‹¨ê³„(1íšŒ) ë“± ê° ë‹¨ê³„ë³„ë¡œ ìˆ˜ì • íšŸìˆ˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ë‹¨ê³„ê°€ ë„˜ì–´ê°€ë©´ ì´ì „ ë‹¨ê³„ ìˆ˜ì •ì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : í”„ë¡œì íŠ¸ ë§‰ë°”ì§€ì— ì´ˆê¸° ì‹œì•ˆì„ ë‹¤ì‹œ ìˆ˜ì •í•´ë‹¬ë¼ëŠ” ìš”ì²­ì€ í° ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ì…ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ë‹¨ê³„ë³„ ìˆ˜ì • ê·œì¹™ì„ ì •í•´ ì²´ê³„ì ì¸ ë””ìì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ í™•ë¦½í•˜ê³ , íšŒê·€ ìˆ˜ì •ì„ ë°©ì§€í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ë‹¤ìˆ˜ ë””ìì¸ ì—ì´ì „ì‹œê°€ ì±„íƒí•˜ëŠ” ì²´ê³„ì ì¸ ë°©ì‹ì…ë‹ˆë‹¤.)`,
                },
            ],
            payment: [
                {
                    title: 'í‘œì¤€í˜•: 5:5 ë¶„í• ',
                    suggestion: `ì´ ê³„ì•½ê¸ˆì•¡: ${projectValue.toLocaleString()}ì› (VAT ë³„ë„)\n- ì„ ê¸ˆ(50%): ê³„ì•½ ì²´ê²° í›„ 3ì¼ ì´ë‚´ (${(projectValue * 0.5).toLocaleString()}ì›)\n- ì”ê¸ˆ(50%): ìµœì¢… ì‚°ì¶œë¬¼ ê²€ìˆ˜ ì™„ë£Œ í›„ 3ì¼ ì´ë‚´ (${(projectValue * 0.5).toLocaleString()}ì›)`,
                    rationale: `ğŸ¤” ë¬¸ì œì : ëŒ€ê¸ˆ ì§€ê¸‰ ë°©ì‹ì´ ë¶ˆëª…í™•í•˜ë©´ ë¯¸ìˆ˜ê¸ˆ ë°œìƒì˜ ìœ„í—˜ì´ ì»¤ì§‘ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ì„ ê¸ˆìœ¼ë¡œ ì´ˆê¸° ë¦¬ì†ŒìŠ¤ë¥¼ í™•ë³´í•˜ê³ , ì”ê¸ˆìœ¼ë¡œ ìµœì¢… ê²°ê³¼ë¬¼ì— ëŒ€í•œ ê¶Œë¦¬ë¥¼ ë³´ì¥ë°›ëŠ” ê°€ì¥ í‘œì¤€ì ì¸ ë°©ì‹ì…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
                {
                    title: 'ëŒ€ì•ˆí˜•: 7:3 ë¶„í• ',
                    suggestion: `ì´ ê³„ì•½ê¸ˆì•¡: ${projectValue.toLocaleString()}ì› (VAT ë³„ë„)\n- ì„ ê¸ˆ(70%): ê³„ì•½ ì²´ê²° í›„ 3ì¼ ì´ë‚´ (${(projectValue * 0.7).toLocaleString()}ì›)\n- ì”ê¸ˆ(30%): ìµœì¢… ì‚°ì¶œë¬¼ ê²€ìˆ˜ ì™„ë£Œ í›„ 3ì¼ ì´ë‚´ (${(projectValue * 0.3).toLocaleString()}ì›)`,
                    rationale: `ğŸ¤” ë¬¸ì œì : ë””ìì¸ ì‘ì—…ì€ ì´ˆê¸° ì•„ì´ë””ì–´ êµ¬ì²´í™”ì— ë§ì€ ì‹œê°„ì´ ì†Œìš”ë˜ì–´, í”„ë¡œì íŠ¸ ì¤‘ë‹¨ ì‹œ ì‘ì—…ìì˜ í”¼í•´ê°€ í´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ì´ˆê¸° ë¦¬ì†ŒìŠ¤ê°€ ë§ì´ íˆ¬ì…ë˜ëŠ” ì‘ì—…ì˜ íŠ¹ì„±ì„ ë°˜ì˜í•˜ì—¬ ì‘ì—…ìì˜ ë¦¬ìŠ¤í¬ë¥¼ ì¤„ì…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ë‹¤ìˆ˜ ë””ìì¸ ì—ì´ì „ì‹œê°€ ì±„íƒí•˜ëŠ” ì•ˆì •ì ì¸ ë°©ì‹ì…ë‹ˆë‹¤.)`,
                },
            ],
            ip: [
                {
                    title: 'í‘œì¤€í˜•: í¬íŠ¸í´ë¦¬ì˜¤ ì‚¬ìš© í—ˆìš©',
                    suggestion: 'ìµœì¢… ì„ íƒëœ ê²°ê³¼ë¬¼ì— ëŒ€í•œ ì €ì‘ì¬ì‚°ê¶Œì€ ì”ê¸ˆ ì§€ê¸‰ ì™„ë£Œ ì‹œ ì˜ë¢°ì¸ì—ê²Œ ê·€ì†ë©ë‹ˆë‹¤. ë‹¨, ì‘ì—…ìëŠ” í•´ë‹¹ ê²°ê³¼ë¬¼ì„ ìì‹ ì˜ í¬íŠ¸í´ë¦¬ì˜¤ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ì‘ì—…ë¬¼ì˜ ì†Œìœ ê¶Œì´ ë¶ˆë¶„ëª…í•˜ë©´, 2ì°¨ ê°€ê³µì´ë‚˜ ìƒì—…ì  ì´ìš© ì‹œ ë¶„ìŸì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ì”ê¸ˆ ì§€ê¸‰ê³¼ ì €ì‘ê¶Œ ì´ì „ì„ ëª…ì‹œí•˜ê³ , í”„ë¦¬ëœì„œì˜ í¬íŠ¸í´ë¦¬ì˜¤ ì‚¬ìš© ê¶Œí•œì„ ë³´ì¥í•˜ì—¬ ì–‘ì¸¡ì˜ ê¶Œë¦¬ë¥¼ ë³´í˜¸í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
                {
                    title: 'ëŒ€ì•ˆí˜•: 2ì°¨ í™œìš© í¬í•¨',
                    suggestion: 'ì”ê¸ˆ ì§€ê¸‰ ì™„ë£Œ ì‹œ, ìµœì¢… ê²°ê³¼ë¬¼ì— ëŒ€í•œ ì €ì‘ì¬ì‚°ê¶Œ ë° 2ì°¨ì  ì €ì‘ë¬¼ ì‘ì„±ê¶Œì„ í¬í•¨í•œ ëª¨ë“  ê¶Œë¦¬ê°€ ì˜ë¢°ì¸ì—ê²Œ ì–‘ë„ë©ë‹ˆë‹¤. ì±„íƒë˜ì§€ ì•Šì€ ì‹œì•ˆì˜ ì €ì‘ê¶Œì€ ì‘ì—…ìì—ê²Œ ìˆìŠµë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ë¡œê³ ë¥¼ í™œìš©í•œ êµ¿ì¦ˆ ì œì‘ ë“± ì›ë³¸ ë³€í˜•ì´ ì˜ˆìƒë  ë•Œ, 2ì°¨ì  ì €ì‘ë¬¼ ì‘ì„±ê¶Œì— ëŒ€í•œ í•©ì˜ê°€ ì—†ìœ¼ë©´ ë¶„ìŸì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ê¶Œë¦¬ ë²”ìœ„ë¥¼ ëª…í™•íˆ í•˜ì—¬ í–¥í›„ ì €ì‘ê¶Œ ë¶„ìŸì„ ì›ì²œ ì°¨ë‹¨í•˜ê³  í´ë¼ì´ì–¸íŠ¸ì˜ í™œìš©ë„ë¥¼ ë†’ì…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
            ],
        },
        'ìƒì„¸í˜ì´ì§€ ë””ìì¸': {
            ...commonClauses,
            revisions: [
                {
                    title: 'í‘œì¤€í˜•: íšŸìˆ˜ ì§€ì •',
                    suggestion: 'ìµœì´ˆ ì‹œì•ˆ(ì „ì²´ ë ˆì´ì•„ì›ƒ) í™•ì • í›„ 1íšŒ, ìµœì¢… ë””ìì¸ ì™„ë£Œ í›„ í…ìŠ¤íŠ¸/ì´ë¯¸ì§€ ë“± ë¶€ë¶„ ìš”ì†Œ ìˆ˜ì • 1íšŒë¥¼ ì œê³µí•©ë‹ˆë‹¤. ë ˆì´ì•„ì›ƒ ë³€ê²½ì€ ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí•©ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ìƒì„¸í˜ì´ì§€ëŠ” ì •ë³´ëŸ‰ì´ ë§ì•„ ìˆ˜ì • ë²”ìœ„ê°€ ëª¨í˜¸í•´ì§€ê¸° ì‰½ìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: í° í‹€(ë ˆì´ì•„ì›ƒ)ê³¼ ì„¸ë¶€ ìš”ì†Œ(í…ìŠ¤íŠ¸, ì´ë¯¸ì§€)ì˜ ìˆ˜ì • ì‹œì ì„ ë¶„ë¦¬í•˜ì—¬, ê³¼ë„í•œ ì¬ì‘ì—…ì„ ë°©ì§€í•˜ê³  íš¨ìœ¨ì ì¸ í”¼ë“œë°±ì„ ìœ ë„í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
                {
                    title: 'ëŒ€ì•ˆí˜•: ë²”ìœ„ ì œí•œ',
                    suggestion: 'ìˆ˜ì •ì€ í…ìŠ¤íŠ¸ ì˜¤íƒˆì ìˆ˜ì • ë° ì œê³µëœ ì´ë¯¸ì§€ êµì²´ì— í•œí•˜ì—¬ 2íšŒ ì œê³µë©ë‹ˆë‹¤. ë””ìì¸ ì»¨ì…‰, ë ˆì´ì•„ì›ƒ, ê¸°íš ë³€ê²½ì€ í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ê¸°íšì´ ëª…í™•í•œ í”„ë¡œì íŠ¸ì—ì„œ ë¶ˆí•„ìš”í•œ ë””ìì¸ ìˆ˜ì •ì€ ì‹œê°„ ë‚­ë¹„ì…ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ìˆ˜ì • ë²”ìœ„ë¥¼ ëª…í™•íˆ ì œí•œí•˜ì—¬, ì •í•´ì§„ ê¸°íšì•ˆì— ë”°ë¥¸ ë””ìì¸ ì‘ì—…ì— ì§‘ì¤‘í•˜ê³  í”„ë¡œì íŠ¸ íš¨ìœ¨ì„ ë†’ì…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê¸°íšê³¼ ë””ìì¸ ì—­í• ì´ ëª…í™•íˆ ë¶„ë¦¬ëœ í”„ë¡œì íŠ¸ì— ì í•©í•©ë‹ˆë‹¤.)`,
                },
            ],
            payment: [
                {
                    title: 'í‘œì¤€í˜•: 5:5 ë¶„í• ',
                    suggestion: `ì´ ê³„ì•½ê¸ˆì•¡: ${projectValue.toLocaleString()}ì› (VAT ë³„ë„)\n- ì„ ê¸ˆ(50%): ê³„ì•½ ì²´ê²° í›„ 3ì¼ ì´ë‚´ (${(projectValue * 0.5).toLocaleString()}ì›)\n- ì”ê¸ˆ(50%): ìµœì¢… ì‚°ì¶œë¬¼ ê²€ìˆ˜ ì™„ë£Œ í›„ 3ì¼ ì´ë‚´ (${(projectValue * 0.5).toLocaleString()}ì›)`,
                    rationale: `ğŸ¤” ë¬¸ì œì : ëŒ€ê¸ˆ ì§€ê¸‰ ë°©ì‹ì´ ë¶ˆëª…í™•í•˜ë©´ ë¯¸ìˆ˜ê¸ˆ ë°œìƒì˜ ìœ„í—˜ì´ ì»¤ì§‘ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ì„ ê¸ˆìœ¼ë¡œ ì´ˆê¸° ë¦¬ì†ŒìŠ¤ë¥¼ í™•ë³´í•˜ê³ , ì”ê¸ˆìœ¼ë¡œ ìµœì¢… ê²°ê³¼ë¬¼ì— ëŒ€í•œ ê¶Œë¦¬ë¥¼ ë³´ì¥ë°›ëŠ” ê°€ì¥ í‘œì¤€ì ì¸ ë°©ì‹ì…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
                {
                    title: 'ëŒ€ì•ˆí˜•: ê¸¸ì´ ì—°ë™',
                    suggestion: `ê¸°ë³¸ ê³„ì•½ì€ ìŠ¤í¬ë¡¤ ê¸¸ì´ 10,000px ê¸°ì¤€ìœ¼ë¡œ ${projectValue.toLocaleString()}ì›ì…ë‹ˆë‹¤. ìµœì¢… ê²°ê³¼ë¬¼ì˜ ê¸¸ì´ê°€ 10,000pxì„ ì´ˆê³¼í•˜ëŠ” ê²½ìš°, 1,000pxë‹¹ ${Math.round(projectValue / 10).toLocaleString()}ì›ì˜ ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí•˜ë©° ì”ê¸ˆê³¼ í•¨ê»˜ ì •ì‚°í•©ë‹ˆë‹¤.`,
                    rationale: `ğŸ¤” ë¬¸ì œì : ê¸°íš ë‹¨ê³„ì—ì„œ ì˜ˆì¸¡ë³´ë‹¤ í˜ì´ì§€ ê¸¸ì´ê°€ ê¸¸ì–´ì§€ë©´, ì‘ì—…ìì˜ ì—…ë¬´ëŸ‰ì´ ê³¼ë„í•˜ê²Œ ëŠ˜ì–´ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ì‘ì—…ëŸ‰ì˜ ê¸°ì¤€ì„ ëª…í™•íˆ ì œì‹œí•˜ê³ , ì¶”ê°€ ì‘ì—…ì— ëŒ€í•œ ì •ë‹¹í•œ ëŒ€ê°€ë¥¼ ë³´ì¥ë°›ëŠ” í•©ë¦¬ì ì¸ ë°©ì‹ì…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ì‘ì—…ëŸ‰ ì˜ˆì¸¡ì´ ì–´ë ¤ìš´ ìƒì„¸í˜ì´ì§€ í”„ë¡œì íŠ¸ì— íš¨ê³¼ì ì…ë‹ˆë‹¤.)`,
                },
            ],
            ip: [
                {
                    title: 'í‘œì¤€í˜•: ì›ë³¸ íŒŒì¼ ì œê³µ',
                    suggestion: 'ì”ê¸ˆ ì§€ê¸‰ ì™„ë£Œ ì‹œ, ìµœì¢… ê²°ê³¼ë¬¼ì˜ PSD/AI ì›ë³¸ íŒŒì¼ì„ ì˜ë¢°ì¸ì—ê²Œ ì œê³µí•©ë‹ˆë‹¤. ë‹¨, ì‘ì—…ì— ì‚¬ìš©ëœ ìœ ë£Œ í°íŠ¸ ë° ì´ë¯¸ì§€ ì†ŒìŠ¤ëŠ” ì˜ë¢°ì¸ì´ ì§ì ‘ ë¼ì´ì„ ìŠ¤ë¥¼ í™•ë³´í•´ì•¼ í•©ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ì›ë³¸ íŒŒì¼ì— í¬í•¨ëœ ìœ ë£Œ ì†ŒìŠ¤ì˜ ë¼ì´ì„ ìŠ¤ ë¬¸ì œê°€ ë°œìƒí•˜ë©´, ì–‘ì¸¡ ëª¨ë‘ì—ê²Œ ë²•ì  ì±…ì„ì´ ë”°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ê²°ê³¼ë¬¼ì˜ ì†Œìœ ê¶Œì€ ì´ì „í•˜ë˜, ì œ3ì ì €ì‘ë¬¼ì— ëŒ€í•œ ë¼ì´ì„ ìŠ¤ ì±…ì„ì„ ëª…í™•íˆ í•˜ì—¬ ë¶„ìŸì„ ì˜ˆë°©í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
                {
                    title: 'ëŒ€ì•ˆí˜•: ì›¹ ê²Œì‹œìš© íŒŒì¼ë§Œ ì œê³µ',
                    suggestion: 'ìµœì¢… ê²°ê³¼ë¬¼ì€ ì›¹ ê²Œì‹œìš©(JPG/PNG) íŒŒì¼ë¡œë§Œ ì œê³µë˜ë©°, ì›ë³¸ íŒŒì¼(PSD/AI)ì´ í•„ìš”í•œ ê²½ìš° ê³„ì•½ ê¸ˆì•¡ì˜ 30%ì— í•´ë‹¹í•˜ëŠ” ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí•©ë‹ˆë‹¤. ì €ì‘ê¶Œì€ ì”ê¸ˆ ì§€ê¸‰ ì‹œ ê·€ì†ë©ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ë””ìì´ë„ˆì˜ í•µì‹¬ ìì‚°ì¸ ì›ë³¸ íŒŒì¼ì„ ë¬´ìƒìœ¼ë¡œ ì œê³µí•˜ëŠ” ê²ƒì€ ê¸°ìˆ  ìœ ì¶œì˜ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ê²°ê³¼ë¬¼ ì‚¬ìš© ëª©ì ì— ë”°ë¼ íŒŒì¼ í˜•íƒœë¥¼ ë‹¬ë¦¬ ì œê³µí•˜ì—¬, ì‘ì—…ìì˜ í•µì‹¬ ìì‚°ì„ ë³´í˜¸í•˜ê³  ì¶”ê°€ì ì¸ ìˆ˜ìµ ëª¨ë¸ì„ í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n(ê·¼ê±°: ë””ìì¸ ì—ì´ì „ì‹œì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.)`,
                },
            ],
        },
         'ì›¹/ì•± UI/UX ë””ìì¸': {
            ...commonClauses,
            revisions: [
                 {
                    title: 'í‘œì¤€í˜•: ë‹¨ê³„ë³„ ìˆ˜ì •',
                    suggestion: 'ì™€ì´ì–´í”„ë ˆì„ í™•ì • í›„ 1íšŒ, ì „ì²´ UI ë””ìì¸ ì™„ë£Œ í›„ 1íšŒ, ì´ 2íšŒì˜ ìˆ˜ì •ì„ ì œê³µí•©ë‹ˆë‹¤. ê° ë‹¨ê³„ê°€ ì™„ë£Œë˜ë©´ ì´ì „ ë‹¨ê³„ë¡œì˜ íšŒê·€ ìˆ˜ì •ì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : UI/UX ë””ìì¸ì€ ì ˆì°¨ì  ê³¼ì •ì´ ì¤‘ìš”í•˜ë¯€ë¡œ, ì´ì „ ë‹¨ê³„ë¡œì˜ íšŒê·€ëŠ” í”„ë¡œì íŠ¸ ì „ì²´ë¥¼ ì§€ì—°ì‹œí‚µë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ê° ë‹¨ê³„ë¥¼ ëª…í™•íˆ êµ¬ë¶„í•˜ê³  ìˆ˜ì • ê·œì¹™ì„ ì •í•´, ì²´ê³„ì ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ í™•ë¦½í•˜ê³  ë¹„íš¨ìœ¨ì ì¸ ì¬ì‘ì—…ì„ ë°©ì§€í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
                {
                    title: 'ëŒ€ì•ˆí˜•: ì‹œê°„ì œ ìˆ˜ì • (ë¦¬í…Œì´ë„ˆ)',
                    suggestion: 'ê¸°ë³¸ ìˆ˜ì • 2íšŒ ì™¸ì—, ì›” 10ì‹œê°„ì˜ ì¶”ê°€ ìˆ˜ì •/ìë¬¸ ì‹œê°„ì„ ì œê³µí•©ë‹ˆë‹¤. (3ê°œì›” ê³„ì•½) ì´ˆê³¼ ì‹œê°„ì€ ì‹œê°„ë‹¹ ${Math.round(projectValue / 100).toLocaleString()}ì›ìœ¼ë¡œ ê³„ì‚°í•˜ì—¬ ì›”ë§ì— ì •ì‚°í•©ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ì´ˆê¸° ê¸°íšì´ ë¶ˆë¶„ëª…í•œ í”„ë¡œì íŠ¸ëŠ” ì¦ì€ ìˆ˜ì •ì´ ì˜ˆìƒë˜ì–´, íšŸìˆ˜ ê¸°ë°˜ ê³„ì•½ì€ ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: íˆ¬ì…ë˜ëŠ” ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ê³„ì•½í•˜ì—¬, ìœ ì—°í•œ ë³€ê²½ì— ëŒ€ì‘í•˜ê³  íˆ¬ì…ëœ ë…¸ë ¥ì— ëŒ€í•œ ì •ë‹¹í•œ ëŒ€ê°€ë¥¼ ë³´ì¥ë°›ìŠµë‹ˆë‹¤.\n\n(ê·¼ê±°: Agile/Lean ìŠ¤íƒ€íŠ¸ì—…ê³¼ì˜ í˜‘ì—…ì— ì í•©í•œ ë°©ì‹ì…ë‹ˆë‹¤.)`,
                },
            ],
            payment: [
                {
                    title: 'í‘œì¤€í˜•: 3ë‹¨ê³„ ë¶„í• ',
                    suggestion: `ì´ ê³„ì•½ê¸ˆì•¡: ${projectValue.toLocaleString()}ì› (VAT ë³„ë„)\n- ê³„ì•½ê¸ˆ(30%): ê³„ì•½ ì²´ê²° ì‹œ (${(projectValue * 0.3).toLocaleString()}ì›)\n- ì¤‘ë„ê¸ˆ(40%): ì™€ì´ì–´í”„ë ˆì„ ë° ì£¼ìš” í™”ë©´ ë””ìì¸ í™•ì • ì‹œ (${(projectValue * 0.4).toLocaleString()}ì›)\n- ì”ê¸ˆ(30%): ìµœì¢… ë””ìì¸ ê°€ì´ë“œ ì „ë‹¬ ë° ê²€ìˆ˜ ì™„ë£Œ ì‹œ (${(projectValue * 0.3).toLocaleString()}ì›)`,
                    rationale: `ğŸ¤” ë¬¸ì œì : ì¥ê¸° í”„ë¡œì íŠ¸ì—ì„œ ëŒ€ê¸ˆ ì§€ê¸‰ì´ ë§ˆì§€ë§‰ì— ëª°ë ¤ìˆìœ¼ë©´, ì‘ì—…ìì˜ í˜„ê¸ˆ íë¦„ì´ ë¶ˆì•ˆì •í•´ì§‘ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: í”„ë¡œì íŠ¸ ë‹¨ê³„ë¥¼ ë‚˜ëˆ„ì–´ ëŒ€ê¸ˆì„ ì§€ê¸‰í•¨ìœ¼ë¡œì¨ í˜„ê¸ˆ íë¦„ì„ ì•ˆì •ì‹œí‚¤ê³ , ê° ë‹¨ê³„ë³„ ì™„ë£Œì— ëŒ€í•œ ìƒí˜¸ ë™ì˜ë¥¼ ì´ëŒì–´ëƒ…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
                 {
                    title: 'ëŒ€ì•ˆí˜•: í˜ì´ì§€/ê¸°ëŠ¥ ë‹¨ìœ„',
                    suggestion: `ì´ ${Math.round(projectValue/500000)}í˜ì´ì§€ ë””ìì¸ì„ ê¸°ì¤€ìœ¼ë¡œ í•˜ë©°, í˜ì´ì§€ ì¶”ê°€ ì‹œ 1í˜ì´ì§€ë‹¹ 500,000ì›ì˜ ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí•©ë‹ˆë‹¤.`,
                    rationale: `ğŸ¤” ë¬¸ì œì : í”„ë¡œì íŠ¸ ë²”ìœ„ê°€ ìœ ë™ì ì¼ ë•Œ, ì „ì²´ ê¸ˆì•¡ì„ ë¯¸ë¦¬ í™•ì •í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ì‘ì—…ëŸ‰ì˜ ë‹¨ìœ„ë¥¼ ëª…í™•íˆ í•˜ì—¬(í˜ì´ì§€ ìˆ˜, ê¸°ëŠ¥ ìˆ˜ ë“±), ìœ ì—°í•˜ê²Œ ë²”ìœ„ ë³€ê²½ì— ëŒ€ì‘í•˜ê³  ì¶”ê°€ ì‘ì—…ì— ëŒ€í•œ ëª…í™•í•œ ì •ì‚° ê¸°ì¤€ì„ ë§ˆë ¨í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: í”„ë¡œì íŠ¸ ë²”ìœ„ í™•ì¥ì´ ì¦ì€ ì‹ ê·œ ì„œë¹„ìŠ¤ ê°œë°œì— íš¨ê³¼ì ì…ë‹ˆë‹¤.)`,
                },
            ],
            ip: [
                 {
                    title: 'í‘œì¤€í˜•: ì „ì²´ ê¶Œë¦¬ ì–‘ë„',
                    suggestion: 'ì”ê¸ˆ ì§€ê¸‰ ì™„ë£Œ ì‹œ, ìµœì¢…ì ìœ¼ë¡œ ì±„íƒëœ ë””ìì¸ ê²°ê³¼ë¬¼(Figma/XD ë“±)ì— ëŒ€í•œ ì €ì‘ì¬ì‚°ê¶Œì€ ì˜ë¢°ì¸ì—ê²Œ ê·€ì†ë©ë‹ˆë‹¤. ì‘ì—…ìëŠ” í¬íŠ¸í´ë¦¬ì˜¤ ì‚¬ìš© ê¶Œí•œì„ ê°€ì§‘ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ë””ìì¸ ê²°ê³¼ë¬¼ì˜ ì†Œìœ ê¶Œì´ ë¶ˆë¶„ëª…í•˜ë©´, í–¥í›„ ê°œë°œ ë° ìœ ì§€ë³´ìˆ˜ì— ì œì•½ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ê²°ê³¼ë¬¼ì˜ ì†Œìœ ê¶Œì„ ëª…í™•íˆ ì´ì „í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì˜ í™œìš©ë„ë¥¼ ë³´ì¥í•˜ê³ , ì‘ì—…ìì˜ í¬íŠ¸í´ë¦¬ì˜¤ ê¶Œí•œë„ ëª…ì‹œí•˜ì—¬ ì–‘ì¸¡ì˜ ì´ìµì„ ë³´í˜¸í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
                {
                    title: 'ëŒ€ì•ˆí˜•: í¬íŠ¸í´ë¦¬ì˜¤ ë¹„ê³µê°œ',
                    suggestion: 'ì˜ë¢°ì¸ì˜ ìš”ì²­ìœ¼ë¡œ í¬íŠ¸í´ë¦¬ì˜¤ ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•  ê²½ìš°, ì´ ê³„ì•½ ê¸ˆì•¡ì˜ 20%ì— í•´ë‹¹í•˜ëŠ” ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí•©ë‹ˆë‹¤. ì´ëŠ” ì‘ì—…ìì˜ ê²½ë ¥ ì¦ë¹™ ë° í™ë³´ ê¸°íšŒë¹„ìš©ì„ ë³´ì „í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : í”„ë¦¬ëœì„œì—ê²Œ í¬íŠ¸í´ë¦¬ì˜¤ëŠ” í•µì‹¬ì ì¸ ì˜ì—… ìì‚°ì´ë¯€ë¡œ, ë¹„ê³µê°œ ìš”ì²­ì€ ì‘ì—…ìì—ê²Œ ê¸°íšŒë¹„ìš©ì„ ë°œìƒì‹œí‚µë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: í¬íŠ¸í´ë¦¬ì˜¤ì˜ ê°€ì¹˜ë¥¼ ê¸ˆì „ì ìœ¼ë¡œ ëª…ì‹œí•˜ì—¬, í´ë¼ì´ì–¸íŠ¸ì˜ ë¹„ë°€ìœ ì§€ ìš”êµ¬ë¥¼ ìˆ˜ìš©í•˜ë©´ì„œ ì‘ì—…ìì˜ ê¸°íšŒë¹„ìš©ì„ ë³´ìƒí•˜ëŠ” í•©ë¦¬ì ì¸ ë°©ì‹ì…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ëŒ€ê¸°ì—… ë° ë³´ì•ˆì´ ì¤‘ìš”í•œ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.)`,
                },
            ],
        },
        'ì›¹ì‚¬ì´íŠ¸ ê°œë°œ': {
            ...commonClauses,
            revisions: [
                {
                    title: 'í‘œì¤€í˜•: ë‹¨ê³„ë³„ ê²€ìˆ˜',
                    suggestion: 'ê¸°íš/ë””ìì¸/ê°œë°œ ê° ë‹¨ê³„ë³„ë¡œ 1íšŒì˜ ìˆ˜ì • ìš”ì²­ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ê³„ì•½ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ê¸°ëŠ¥ ì¶”ê°€ ë° ì„¤ê³„ ë³€ê²½ì€ ë³„ë„ì˜ ì¶”ê°€ ê³„ì•½ì„ í†µí•´ ì§„í–‰í•©ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ê°œë°œ ì¤‘ ì¦ì€ ê¸°íš ë³€ê²½(Scope Creep)ì€ í”„ë¡œì íŠ¸ ì‹¤íŒ¨ì˜ ì£¼ìš” ì›ì¸ì…ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ê°œë°œ ë‹¨ê³„ë³„ ê²€ìˆ˜ë¥¼ í†µí•´ ì‘ì—… ë²”ìœ„ë¥¼ ëª…í™•íˆ í•˜ê³ , ì•ˆì •ì ì¸ í”„ë¡œì íŠ¸ ê´€ë¦¬ë¥¼ ë•ìŠµë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
                {
                    title: 'ëŒ€ì•ˆí˜•: ìœ ì§€ë³´ìˆ˜ í¬í•¨',
                    suggestion: 'í”„ë¡œì íŠ¸ ì™„ë£Œ ë° ìµœì¢… ì”ê¸ˆ ì§€ê¸‰ í›„ 1ê°œì›” ê°„, í…ìŠ¤íŠ¸ ìˆ˜ì •, ì´ë¯¸ì§€ êµì²´ ë“± ê°„ë‹¨í•œ ìœ ì§€ë³´ìˆ˜ì„± ìˆ˜ì •ì„ 2íšŒ ì§€ì›í•©ë‹ˆë‹¤. (ê¸°ëŠ¥ ë³€ê²½ ì œì™¸)',
                    rationale: `ğŸ¤” ë¬¸ì œì : ë¡ ì¹­ ì§í›„ ë°œê²¬ë˜ëŠ” ì‚¬ì†Œí•œ ìˆ˜ì • ìš”ì²­ì— ëŒ€í•œ ê¸°ì¤€ì´ ì—†ìœ¼ë©´ ë¶„ìŸì˜ ì†Œì§€ê°€ ë©ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ëª…í™•í•œ ìœ ì§€ë³´ìˆ˜ ë²”ìœ„ë¥¼ ì„¤ì •í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ë§Œì¡±ë„ë¥¼ ë†’ì´ê³ , ì¶”ê°€ ì‘ì—…ì— ëŒ€í•œ ë¶„ìŸì„ ì˜ˆë°©í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: í´ë¼ì´ì–¸íŠ¸ì™€ì˜ ì¥ê¸°ì  ì‹ ë¢° ê´€ê³„ êµ¬ì¶•ì— íš¨ê³¼ì ì…ë‹ˆë‹¤.)`,
                },
            ],
            payment: [
                {
                    title: 'í‘œì¤€í˜•: 3ë‹¨ê³„ ë¶„í• ',
                    suggestion: `ì´ ê³„ì•½ê¸ˆì•¡: ${projectValue.toLocaleString()}ì› (VAT ë³„ë„)\n- ê³„ì•½ê¸ˆ(30%): ê³„ì•½ ì²´ê²° ì‹œ (${(projectValue * 0.3).toLocaleString()}ì›)\n- ì¤‘ë„ê¸ˆ(40%): ë””ìì¸ ë° ì£¼ìš” ê¸°ëŠ¥ ê°œë°œ ì™„ë£Œ ì‹œ (${(projectValue * 0.4).toLocaleString()}ì›)\n- ì”ê¸ˆ(30%): ìµœì¢… ì‚°ì¶œë¬¼ ê²€ìˆ˜ ë° ì„œë²„ ë°°í¬ ì™„ë£Œ ì‹œ (${(projectValue * 0.3).toLocaleString()}ì›)`,
                    rationale: `ğŸ¤” ë¬¸ì œì : ì¥ê¸° í”„ë¡œì íŠ¸ì—ì„œ ëŒ€ê¸ˆ ì§€ê¸‰ì´ ë§ˆì§€ë§‰ì— ëª°ë ¤ìˆìœ¼ë©´, ì‘ì—…ìì˜ í˜„ê¸ˆ íë¦„ì´ ë¶ˆì•ˆì •í•´ì§‘ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: í”„ë¡œì íŠ¸ ë‹¨ê³„ë¥¼ ë‚˜ëˆ„ì–´ ëŒ€ê¸ˆì„ ì§€ê¸‰í•¨ìœ¼ë¡œì¨ í˜„ê¸ˆ íë¦„ì„ ì•ˆì •ì‹œí‚¤ê³ , ê° ë‹¨ê³„ë³„ ì™„ë£Œì— ëŒ€í•œ ìƒí˜¸ ë™ì˜ë¥¼ ì´ëŒì–´ëƒ…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
                {
                    title: 'ëŒ€ì•ˆí˜•: ë§ˆì¼ìŠ¤í†¤ ê¸°ë°˜',
                    suggestion: `ì´ ê³„ì•½ê¸ˆì•¡: ${projectValue.toLocaleString()}ì› (VAT ë³„ë„)\n1. íšŒì›ê°€ì…/ë¡œê·¸ì¸ ê¸°ëŠ¥: 20%\n2. ìƒí’ˆì¡°íšŒ/ê²°ì œ ê¸°ëŠ¥: 30%\n3. ê´€ë¦¬ì í˜ì´ì§€ ê¸°ëŠ¥: 30%\n4. ìµœì¢… í…ŒìŠ¤íŠ¸ ë° ë°°í¬: 20%\nê° ë§ˆì¼ìŠ¤í†¤ ì™„ë£Œ ë° ê²€ìˆ˜ í›„ 3ì¼ ì´ë‚´ì— í•´ë‹¹ ëŒ€ê¸ˆì„ ì§€ê¸‰í•©ë‹ˆë‹¤.`,
                    rationale: `ğŸ¤” ë¬¸ì œì : ë³µì¡í•œ í”„ë¡œì íŠ¸ë¥¼ ë‹¨ìˆœíˆ 3ë‹¨ê³„ë¡œ ë‚˜ëˆ„ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: í•µì‹¬ ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ ë§ˆì¼ìŠ¤í†¤ì„ ì„¤ì •í•˜ê³  ëŒ€ê¸ˆì„ ë¶„í• í•˜ì—¬, ì§„í–‰ ìƒí™©ì„ ëª…í™•íˆ ê³µìœ í•˜ê³  ëŒ€ê¸ˆ ì§€ê¸‰ì˜ íˆ¬ëª…ì„±ì„ ë†’ì…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ì• ìì¼ ê°œë°œ ë°©ì‹ ë° ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì— ì í•©í•©ë‹ˆë‹¤.)`,
                },
            ],
            ip: [
                {
                    title: 'í‘œì¤€í˜•: ì „ì²´ ê¶Œë¦¬ ì–‘ë„',
                    suggestion: 'ì”ê¸ˆ ì§€ê¸‰ ì™„ë£Œ ì‹œ, ìµœì¢…ì ìœ¼ë¡œ ê°œë°œëœ ì›¹ì‚¬ì´íŠ¸ì˜ ëª¨ë“  ì†ŒìŠ¤ì½”ë“œì™€ ì‚°ì¶œë¬¼ì— ëŒ€í•œ ì €ì‘ì¬ì‚°ê¶Œì€ ì˜ë¢°ì¸ì—ê²Œ ê·€ì†ë©ë‹ˆë‹¤. ì‘ì—…ìëŠ” í¬íŠ¸í´ë¦¬ì˜¤ ì‚¬ìš© ê¶Œí•œì„ ê°€ì§‘ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ì›¹ì‚¬ì´íŠ¸ ì†Œìœ ê¶Œì´ ë¶ˆë¶„ëª…í•˜ë©´, í–¥í›„ ìœ ì§€ë³´ìˆ˜ ë° ê¸°ëŠ¥ í™•ì¥ì— í° ì œì•½ì´ ìƒê¹ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ì†ŒìŠ¤ì½”ë“œì˜ ì†Œìœ ê¶Œì„ ëª…í™•íˆ ì´ì „í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì˜ ìì‚°ì„ ë³´ì¥í•˜ê³ , ì‘ì—…ìì˜ í¬íŠ¸í´ë¦¬ì˜¤ ê¶Œí•œë„ ëª…ì‹œí•˜ì—¬ ì–‘ì¸¡ì˜ ì´ìµì„ ë³´í˜¸í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
                {
                    title: 'ëŒ€ì•ˆí˜•: ì†ŒìŠ¤ì½”ë“œ ë¼ì´ì„ ìŠ¤',
                    suggestion: 'ìµœì¢… ê²°ê³¼ë¬¼ì— ëŒ€í•œ ì‚¬ìš©ê¶Œì€ ì˜ë¢°ì¸ì—ê²Œ ë¶€ì—¬ë˜ë‚˜, ì†ŒìŠ¤ì½”ë“œì˜ ì €ì‘ê¶Œì€ ì‘ì—…ìì—ê²Œ ìˆìŠµë‹ˆë‹¤. ì˜ë¢°ì¸ì€ í•´ë‹¹ ì†ŒìŠ¤ì½”ë“œë¥¼ ë³¸ í”„ë¡œì íŠ¸ ëª©ì  ì™¸ì— ì¬íŒë§¤, ì¬ë°°í¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ì‘ì—…ìê°€ ì§ì ‘ ê°œë°œí•œ ë²”ìš© ëª¨ë“ˆ/ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì†Œìœ ê¶Œê¹Œì§€ ëª¨ë‘ ì–‘ë„í•˜ëŠ” ê²ƒì€ ë¶ˆí•©ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ì†”ë£¨ì…˜ í˜•íƒœì˜ ì›¹ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•  ë•Œ, ì†ŒìŠ¤ì½”ë“œì˜ ì €ì‘ê¶Œì€ ë³´í˜¸í•˜ë©´ì„œ í´ë¼ì´ì–¸íŠ¸ì˜ ì‚¬ìš© ê¶Œí•œì„ ë³´ì¥í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ìì²´ ì†”ë£¨ì…˜ì„ ë³´ìœ í•œ ê°œë°œìê°€ ì‚¬ìš©í•˜ê¸°ì— ì í•©í•©ë‹ˆë‹¤.)`,
                },
            ],
        },
        'ëª¨ë°”ì¼ ì•± ê°œë°œ': {
            ...commonClauses,
            revisions: [
                 {
                    title: 'í‘œì¤€í˜•: í”Œë«í¼ë³„ ê²€ìˆ˜',
                    suggestion: 'AOS, iOS ê° í”Œë«í¼ë³„ë¡œ 1íšŒì˜ í…ŒìŠ¤íŠ¸ ë° ìˆ˜ì • ìš”ì²­ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ê³„ì•½ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” OS ì—…ë°ì´íŠ¸ ëŒ€ì‘ ë° ì¶”ê°€ ê¸°ëŠ¥ ê°œë°œì€ ë³„ë„ ê³„ì•½ìœ¼ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ê°ê¸° ë‹¤ë¥¸ ëª¨ë°”ì¼ í™˜ê²½ì€ ì˜ˆì¸¡í•˜ì§€ ëª»í•œ ì´ìŠˆë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: í”Œë«í¼ë³„ ê²€ìˆ˜ ë‹¨ê³„ë¥¼ í†µí•´ ì•±ì˜ ì•ˆì •ì„±ì„ ë†’ì´ê³ , ìœ ì§€ë³´ìˆ˜ ë²”ìœ„ë¥¼ ëª…í™•íˆ í•˜ì—¬ ì¶”ê°€ ì‘ì—…ì— ëŒ€í•œ ë¶„ìŸì„ ì˜ˆë°©í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
            ],
            payment: [
                {
                    title: 'í‘œì¤€í˜•: 3ë‹¨ê³„ ë¶„í• ',
                    suggestion: `ì´ ê³„ì•½ê¸ˆì•¡: ${projectValue.toLocaleString()}ì› (VAT ë³„ë„)\n- ê³„ì•½ê¸ˆ(30%): ê³„ì•½ ì²´ê²° ì‹œ (${(projectValue * 0.3).toLocaleString()}ì›)\n- ì¤‘ë„ê¸ˆ(40%): ì£¼ìš” ê¸°ëŠ¥ ê°œë°œ ë° í…ŒìŠ¤íŠ¸ ë¹Œë“œ ì „ë‹¬ ì‹œ (${(projectValue * 0.4).toLocaleString()}ì›)\n- ì”ê¸ˆ(30%): ìŠ¤í† ì–´ ì‹¬ì‚¬ ìš”ì²­ ë° ìµœì¢… ì‚°ì¶œë¬¼ ì „ë‹¬ ì™„ë£Œ ì‹œ (${(projectValue * 0.3).toLocaleString()}ì›)`,
                    rationale: `ğŸ¤” ë¬¸ì œì : ì•± ê°œë°œì€ ìŠ¤í† ì–´ ì‹¬ì‚¬ ë“± ì™¸ë¶€ ë³€ìˆ˜ê°€ ë§ì•„, ëŒ€ê¸ˆ ì§€ê¸‰ ì‹œì ì´ ëª¨í˜¸í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ìŠ¤í† ì–´ ì‹¬ì‚¬ ìš”ì²­ì„ ê¸°ì¤€ìœ¼ë¡œ ì”ê¸ˆ ì§€ê¸‰ ì‹œì ì„ ëª…í™•íˆ í•˜ì—¬, ì‹¬ì‚¬ ì§€ì—°ìœ¼ë¡œ ì¸í•œ ëŒ€ê¸ˆ ì§€ê¸‰ ì§€ì—° ë¦¬ìŠ¤í¬ë¥¼ ì¤„ì…ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
            ],
            ip: [
                {
                    title: 'í‘œì¤€í˜•: ì „ì²´ ê¶Œë¦¬ ì–‘ë„',
                    suggestion: 'ì”ê¸ˆ ì§€ê¸‰ ì™„ë£Œ ì‹œ, ê°œë°œëœ ëª¨ë°”ì¼ ì•±ì˜ ëª¨ë“  ì†ŒìŠ¤ì½”ë“œì™€ ì‚°ì¶œë¬¼, ê·¸ë¦¬ê³  ì•±ìŠ¤í† ì–´/í”Œë ˆì´ìŠ¤í† ì–´ ê³„ì •ì˜ ì†Œìœ ê¶Œì€ ì˜ë¢°ì¸ì—ê²Œ ê·€ì†ë©ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ì•± ìŠ¤í† ì–´ ê³„ì • ì†Œìœ ê¶Œì´ ë¶ˆë¶„ëª…í•˜ë©´, í–¥í›„ ì•± ì—…ë°ì´íŠ¸ ë° ê´€ë¦¬ì— ì‹¬ê°í•œ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ì†ŒìŠ¤ì½”ë“œë¿ë§Œ ì•„ë‹ˆë¼ ìŠ¤í† ì–´ ê³„ì •ì˜ ì†Œìœ ê¶Œê¹Œì§€ ëª…í™•íˆ ì´ì „í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì˜ ì˜¨ì „í•œ ìì‚° ì†Œìœ ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
            ],
        },
        'ë°±ì—”ë“œ API ê°œë°œ': {
            ...commonClauses,
            revisions: [
                {
                    title: 'í‘œì¤€í˜•: ëª…ì„¸ ê¸°ë°˜ ê²€ìˆ˜',
                    suggestion: 'ìµœì¢… í™•ì •ëœ API ëª…ì„¸ì„œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°œë°œí•˜ë©°, í…ŒìŠ¤íŠ¸ ë‹¨ê³„ì—ì„œ ëª…ì„¸ì™€ ë‹¤ë¥¸ ë™ì‘ì— ëŒ€í•œ ìˆ˜ì •ì€ 2íšŒ ì§€ì›í•©ë‹ˆë‹¤. ëª…ì„¸ ë³€ê²½ì€ ì¶”ê°€ ê³„ì•½ì´ í•„ìš”í•©ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : ëª…í™•í•œ ê¸°ì¤€ ì—†ëŠ” API ìˆ˜ì • ìš”ì²­ì€ ì „ì²´ ì‹œìŠ¤í…œì˜ ë¶ˆì•ˆì •ì„±ì„ ì•¼ê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: í™•ì •ëœ API ëª…ì„¸ì„œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‘ì—… ë²”ìœ„ë¥¼ ëª…í™•íˆ í•˜ì—¬, ì¦ì€ ë³€ê²½ìœ¼ë¡œ ì¸í•œ í”„ë¡œì íŠ¸ ì§€ì—° ë° í’ˆì§ˆ ì €í•˜ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
            ],
            payment: [
                {
                    title: 'í‘œì¤€í˜•: 2ë‹¨ê³„ ë¶„í• ',
                    suggestion: `ì´ ê³„ì•½ê¸ˆì•¡: ${projectValue.toLocaleString()}ì› (VAT ë³„ë„)\n- ì„ ê¸ˆ(50%): ê³„ì•½ ì²´ê²° ë° API ëª…ì„¸ í™•ì • ì‹œ (${(projectValue * 0.5).toLocaleString()}ì›)\n- ì”ê¸ˆ(50%): ê°œë°œ ì™„ë£Œ, í…ŒìŠ¤íŠ¸ ë° ìµœì¢… ë¬¸ì„œ ì „ë‹¬ ì‹œ (${(projectValue * 0.5).toLocaleString()}ì›)`,
                    rationale: `ğŸ¤” ë¬¸ì œì : ë°±ì—”ë“œ ê°œë°œì€ ì™¸ë¶€ ì˜ì¡´ì„±ì´ ì ì–´, ëª…í™•í•œ ë§ˆì¼ìŠ¤í†¤ ì„¤ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ì„ ê¸ˆìœ¼ë¡œ ì•ˆì •ì ì¸ ê°œë°œ í™˜ê²½ì„ í™•ë³´í•˜ê³ , ìµœì¢… ì‚°ì¶œë¬¼ ì „ë‹¬ê³¼ í•¨ê»˜ ì”ê¸ˆì„ ë°›ì•„ ëª…í™•í•˜ê³  ì‹ ì†í•˜ê²Œ í”„ë¡œì íŠ¸ë¥¼ ì™„ë£Œí•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
            ],
            ip: [
                {
                    title: 'í‘œì¤€í˜•: ì „ì²´ ê¶Œë¦¬ ì–‘ë„',
                    suggestion: 'ì”ê¸ˆ ì§€ê¸‰ ì™„ë£Œ ì‹œ, ê°œë°œëœ API ì„œë²„ì˜ ëª¨ë“  ì†ŒìŠ¤ì½”ë“œ, ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë° ê´€ë ¨ ë¬¸ì„œì— ëŒ€í•œ ì €ì‘ì¬ì‚°ê¶Œì€ ì˜ë¢°ì¸ì—ê²Œ ê·€ì†ë©ë‹ˆë‹¤.',
                    rationale: `ğŸ¤” ë¬¸ì œì : API ì„œë²„ì™€ ë°ì´í„°ëŠ” ì„œë¹„ìŠ¤ì˜ í•µì‹¬ ìì‚°ì´ë¯€ë¡œ, ì†Œìœ ê¶Œì´ ë¶ˆë¶„ëª…í•˜ë©´ ì‹¬ê°í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¦¬ìŠ¤í¬ë¥¼ ì´ˆë˜í•©ë‹ˆë‹¤.\n\nğŸ’¡ í•´ê²°ì±…: ì„œë²„ì˜ ëª¨ë“  êµ¬ì„± ìš”ì†Œì— ëŒ€í•œ ì†Œìœ ê¶Œì„ ëª…í™•íˆ ì´ì „í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì˜ í•µì‹¬ ìì‚°ì„ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•©ë‹ˆë‹¤.\n\n(ê·¼ê±°: ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ì¡°í•­ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ ë¶„ìŸì„ íš¨ê³¼ì ìœ¼ë¡œ ì˜ˆë°©í•©ë‹ˆë‹¤.)`,
                },
            ],
        },
    };
};

const ContractPage: React.FC = () => {
    const [step, setStep] = useState(1);
    const [formData, setFormData] = useState({
        clientName: '',
        freelancerName: '',
        projectName: '',
        industry: INDUSTRY_OPTIONS[0],
        task: TASK_OPTIONS[INDUSTRY_OPTIONS[0]][0],
        deliverables: DELIVERABLE_OPTIONS[TASK_OPTIONS[INDUSTRY_OPTIONS[0]][0]] || [],
        projectValue: 100000,
        startDate: new Date().toISOString().split('T')[0],
        endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    });
    const [clauses, setClauses] = useState({
        scope: '',
        revisions: '',
        payment: '',
        ip: '',
        termination: '',
        feedback: '',
        review: '',
    });
    const [activeClause, setActiveClause] = useState<string | null>(null);
    const [modalClause, setModalClause] = useState<string | null>(null);
    const [selectedSuggestion, setSelectedSuggestion] = useState<string>('');
    const [dateError, setDateError] = useState('');

    const clauseGuidance = useMemo(() => getClauseGuidance(formData.projectValue), [formData.projectValue]);

    useEffect(() => {
        const newTasks = TASK_OPTIONS[formData.industry];
        if (newTasks) {
            setFormData(prev => ({ ...prev, task: newTasks[0] }));
        }
    }, [formData.industry]);

    useEffect(() => {
        const newDeliverables = DELIVERABLE_OPTIONS[formData.task];
        if (newDeliverables) {
            setFormData(prev => ({ ...prev, deliverables: newDeliverables }));
        } else {
             setFormData(prev => ({ ...prev, deliverables: [] }));
        }
    }, [formData.task]);

    useEffect(() => {
        if (formData.startDate && formData.endDate) {
            const start = new Date(formData.startDate);
            const end = new Date(formData.endDate);
            if (end < start) {
                setDateError('ì¢…ë£Œì¼ì€ ì‹œì‘ì¼ë³´ë‹¤ ë¹ ë¥¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
            } else {
                setDateError('');
            }
        }
    }, [formData.startDate, formData.endDate]);

    const handleFormChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {
        const { name, value } = e.target;
        if (name === 'projectValue') {
            const numericValue = parseInt(value.replace(/[^0-9]/g, ''), 10);
            setFormData(prev => ({ ...prev, [name]: isNaN(numericValue) ? 0 : numericValue }));
        } else {
            setFormData(prev => ({ ...prev, [name]: value }));
        }
    };

    const handleClauseChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {
        const { name, value } = e.target;
        setClauses(prev => ({ ...prev, [name]: value }));
    };

    const handleDeliverableChange = (index: number, value: string) => {
        const newDeliverables = [...formData.deliverables];
        newDeliverables[index] = value;
        setFormData(prev => ({ ...prev, deliverables: newDeliverables }));
    };
    
    const addDeliverable = () => {
        setFormData(prev => ({ ...prev, deliverables: [...prev.deliverables, ''] }));
    };

    const removeDeliverable = (index: number) => {
        setFormData(prev => ({ ...prev, deliverables: prev.deliverables.filter((_, i) => i !== index) }));
    };

    const applySuggestion = () => {
        if (modalClause && selectedSuggestion) {
            setClauses(prev => ({ ...prev, [modalClause]: selectedSuggestion }));
            setModalClause(null);
            setSelectedSuggestion('');
        }
    };
    
    const openModal = (clauseKey: string) => {
        setModalClause(clauseKey);
        const suggestions = (clauseGuidance[formData.task as keyof typeof clauseGuidance] as any)?.[clauseKey];
        if (suggestions && suggestions.length > 0) {
            setSelectedSuggestion(suggestions[0].suggestion);
        }
    };

    const ClauseField = ({ clauseKey, title, icon }: { clauseKey: string; title: string; icon: React.ReactElement }) => (
        <div className="relative">
            <label htmlFor={clauseKey} className="flex items-center space-x-2 text-lg font-semibold text-slate-100 mb-2">
                {React.cloneElement(icon, { className: "h-6 w-6 text-fuchsia-400" })}
                <span>{title}</span>
                <button type="button" onMouseEnter={() => setActiveClause(clauseKey)} onMouseLeave={() => setActiveClause(null)} className="group relative">
                    <QuestionMarkCircleIcon className="h-5 w-5 text-slate-500" />
                    {activeClause === clauseKey && (
                        <div className="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-72 bg-slate-700 text-slate-200 text-xs rounded-lg p-3 z-10 shadow-lg border border-slate-600">
                            {CLAUSE_TIPS[clauseKey]}
                            <div className="absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-x-4 border-x-transparent border-t-4 border-t-slate-700"></div>
                        </div>
                    )}
                </button>
            </label>
            <textarea
                id={clauseKey}
                name={clauseKey}
                value={(clauses as any)[clauseKey]}
                onChange={handleClauseChange}
                rows={4}
                placeholder={CLAUSE_PLACEHOLDERS[clauseKey]}
                className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500 transition-colors"
            />
            {(clauseGuidance[formData.task as keyof typeof clauseGuidance] as any)?.[clauseKey] && (
                <button 
                    type="button" 
                    onClick={() => openModal(clauseKey)}
                    className="mt-2 text-sm font-semibold text-fuchsia-400 hover:text-fuchsia-300 flex items-center space-x-1"
                >
                    <LightBulbIcon className="h-4 w-4" />
                    <span>ì „ë¬¸ê°€ ì¶”ì²œ ì¡°í•­ ë³´ê¸°</span>
                </button>
            )}
        </div>
    );
    
    const generateContractText = () => `
ìš©ì—­ ê³„ì•½ì„œ

ë³¸ ê³„ì•½ì€ ì•„ë˜ì˜ ë‹¹ì‚¬ì ê°„ì— ì²´ê²°ëœë‹¤.

- ì˜ë¢°ì¸ (ì´í•˜ "ê°‘"): ${formData.clientName || '(ì˜ë¢°ì¸ ì´ë¦„)'}
- ì‘ì—…ì (ì´í•˜ "ì„"): ${formData.freelancerName || '(ì‘ì—…ì ì´ë¦„)'}

ì œ 1 ì¡° (ê³„ì•½ì˜ ëª©ì )
"ì„"ì€ "ê°‘"ì˜ ì˜ë¢°ì— ë”°ë¼ â€˜${formData.projectName || '(í”„ë¡œì íŠ¸ëª…)'}â€™ í”„ë¡œì íŠ¸(ì´í•˜ "ë³¸ ìš©ì—­")ë¥¼ ìˆ˜í–‰í•˜ê³ , "ê°‘"ì€ ì´ì— ëŒ€í•œ ë³´ìˆ˜ë¥¼ ì§€ê¸‰í•˜ëŠ” ê²ƒì„ ëª©ì ìœ¼ë¡œ í•œë‹¤.

ì œ 2 ì¡° (ìš©ì—­ì˜ ë²”ìœ„ ë° ë‚´ìš©)
"ì„"ì´ ìˆ˜í–‰í•  ìš©ì—­ì˜ ë²”ìœ„ëŠ” ë‹¤ìŒ ê° í˜¸ì™€ ê°™ë‹¤.
1. ì£¼ìš” ê³¼ì—…: ${formData.task}
2. ìµœì¢… ì‚°ì¶œë¬¼:
${formData.deliverables.map(d => `   - ${d}`).join('\n')}
3. ê¸°íƒ€:
${clauses.scope || '(ìƒí˜¸ í˜‘ì˜ í•˜ì— ì •í•œ êµ¬ì²´ì ì¸ ì‘ì—… ë‚´ìš©)'}

ì œ 3 ì¡° (ê³„ì•½ ê¸°ê°„)
ë³¸ ìš©ì—­ì˜ ìˆ˜í–‰ ê¸°ê°„ì€ ${formData.startDate}ë¶€í„° ${formData.endDate}ê¹Œì§€ë¡œ í•œë‹¤.

ì œ 4 ì¡° (ê³„ì•½ ê¸ˆì•¡ ë° ì§€ê¸‰ ë°©ë²•)
1. ì´ ê³„ì•½ ê¸ˆì•¡: ì´ ${formData.projectValue.toLocaleString('ko-KR')} ì› (ê¸ˆ ${numberToKoreanWon(formData.projectValue)} ì›ì •), ë¶€ê°€ê°€ì¹˜ì„¸ ë³„ë„
2. ì§€ê¸‰ ë°©ë²•:
${clauses.payment || CLAUSE_PLACEHOLDERS.payment}

ì œ 5 ì¡° (ìˆ˜ì • ë° ê²€ìˆ˜)
${clauses.revisions || CLAUSE_PLACEHOLDERS.revisions}

ì œ 6 ì¡° (ì €ì‘ê¶Œ ê·€ì†)
${clauses.ip || CLAUSE_PLACEHOLDERS.ip}

ì œ 7 ì¡° (í”¼ë“œë°± ë° ì†Œí†µ)
${clauses.feedback || CLAUSE_PLACEHOLDERS.feedback}

ì œ 8 ì¡° (ê³„ì•½ì˜ í•´ì§€)
${clauses.termination || CLAUSE_PLACEHOLDERS.termination}

ì œ 9 ì¡° (ë¹„ë°€ìœ ì§€ ì˜ë¬´ ë° ê¸°íƒ€)
${clauses.review || CLAUSE_PLACEHOLDERS.review}

ë³¸ ê³„ì•½ì˜ ë‚´ìš©ì„ ì¦ëª…í•˜ê¸° ìœ„í•˜ì—¬ ê³„ì•½ì„œ 2ë¶€ë¥¼ ì‘ì„±í•˜ì—¬ "ê°‘"ê³¼ "ì„"ì´ ì„œëª… ë˜ëŠ” ë‚ ì¸í•œ í›„ ê°ê° 1ë¶€ì”© ë³´ê´€í•œë‹¤.

${new Date().getFullYear()}ë…„ ${new Date().getMonth() + 1}ì›” ${new Date().getDate()}ì¼

ê°‘ (ì˜ë¢°ì¸): ${formData.clientName || '________________'} (ì„œëª…/ì¸)
ì„ (ì‘ì—…ì): ${formData.freelancerName || '________________'} (ì„œëª…/ì¸)
    `;

    return (
        <div className="bg-slate-900">
            <div className="max-w-7xl mx-auto py-20 px-4 sm:px-6 lg:px-8">
                <div className="text-center">
                    <div className="inline-flex items-center justify-center h-20 w-20 rounded-full bg-fuchsia-500/10 mb-6 ring-8 ring-fuchsia-500/5 border border-fuchsia-500/20">
                        <DocumentTextIcon className="h-10 w-10 text-fuchsia-400" />
                    </div>
                    <h1 className="text-4xl font-extrabold text-slate-100 tracking-tight">ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì„œ</h1>
                    <p className="mt-4 max-w-2xl mx-auto text-lg text-slate-400">
                        í”„ë¡œì íŠ¸ ì‹œì‘ ì „, 1ë¶„ ë§Œì— ì™„ì„±í•˜ëŠ” ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì„œë¡œ <br /> ë‹¹ì‹ ì˜ ì†Œì¤‘í•œ ê¶Œë¦¬ë¥¼ ë³´í˜¸í•˜ì„¸ìš”.
                    </p>
                </div>

                <div className="mt-16 max-w-4xl mx-auto">
                    {/* Step Indicator */}
                    <div className="flex justify-between items-center mb-12">
                        {[1, 2, 3].map(s => (
                            <React.Fragment key={s}>
                                <div className="flex flex-col items-center">
                                    <div className={`h-10 w-10 rounded-full flex items-center justify-center font-bold border-2 transition-all duration-300 ${step >= s ? 'bg-fuchsia-500 border-fuchsia-500 text-white' : 'bg-slate-800 border-slate-700 text-slate-400'}`}>
                                        {step > s ? <CheckCircleIcon className="h-6 w-6" /> : s}
                                    </div>
                                    <p className={`mt-2 text-sm font-semibold ${step >= s ? 'text-fuchsia-400' : 'text-slate-400'}`}>{['ê¸°ë³¸ì •ë³´', 'ì„¸ë¶€ì¡°í•­', 'ê²€í†  ë° ì™„ì„±'][s-1]}</p>
                                </div>
                                {s < 3 && <div className={`flex-1 h-1 mx-4 transition-colors duration-300 ${step > s ? 'bg-fuchsia-500' : 'bg-slate-700'}`}></div>}
                            </React.Fragment>
                        ))}
                    </div>

                    {/* Step 1: Basic Info */}
                    {step === 1 && (
                        <div className="bg-slate-800/50 p-8 rounded-2xl border border-slate-700 space-y-8 animate-fade-in">
                            <div>
                                <h2 className="text-2xl font-bold text-slate-100 mb-1">í”„ë¡œì íŠ¸ ê¸°ë³¸ ì •ë³´</h2>
                                <p className="text-slate-400">ëˆ„ê°€, ë¬´ì—‡ì„, ì–¸ì œê¹Œì§€, ì–¼ë§ˆì— ì§„í–‰í•˜ëŠ”ì§€ ëª…í™•íˆ ì •ì˜í•´ìš”.</p>
                            </div>
                            <div className="grid md:grid-cols-2 gap-6">
                                <div className="space-y-2">
                                    <label htmlFor="clientName" className="font-semibold text-slate-300">ì˜ë¢°ì¸ (ê°‘)</label>
                                    <input type="text" id="clientName" name="clientName" value={formData.clientName} onChange={handleFormChange} placeholder="í´ë¼ì´ì–¸íŠ¸ ì´ë¦„ ë˜ëŠ” íšŒì‚¬ëª…" className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" />
                                </div>
                                <div className="space-y-2">
                                    <label htmlFor="freelancerName" className="font-semibold text-slate-300">ì‘ì—…ì (ì„)</label>
                                    <input type="text" id="freelancerName" name="freelancerName" value={formData.freelancerName} onChange={handleFormChange} placeholder="ë³¸ì¸ ì´ë¦„ ë˜ëŠ” í™œë™ëª…" className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" />
                                </div>
                            </div>
                            <div className="space-y-2">
                                <label htmlFor="projectName" className="font-semibold text-slate-300">í”„ë¡œì íŠ¸ëª…</label>
                                <input type="text" id="projectName" name="projectName" value={formData.projectName} onChange={handleFormChange} placeholder="ì˜ˆ: 2024ë…„ ë¸Œëœë“œ ë¦¬ë‰´ì–¼" className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" />
                            </div>
                             <div className="grid md:grid-cols-2 gap-6">
                                <div className="space-y-2">
                                    <label htmlFor="industry" className="font-semibold text-slate-300">ë¶„ì•¼</label>
                                    <select id="industry" name="industry" value={formData.industry} onChange={handleFormChange} className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500">
                                        {INDUSTRY_OPTIONS.map(opt => <option key={opt} value={opt}>{opt}</option>)}
                                    </select>
                                </div>
                                <div className="space-y-2">
                                    <label htmlFor="task" className="font-semibold text-slate-300">ì£¼ìš” ê³¼ì—…</label>
                                    <select id="task" name="task" value={formData.task} onChange={handleFormChange} className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500">
                                        {TASK_OPTIONS[formData.industry]?.map(opt => <option key={opt} value={opt}>{opt}</option>)}
                                    </select>
                                </div>
                            </div>
                             <div className="space-y-4">
                                <label className="font-semibold text-slate-300">ìµœì¢… ì‚°ì¶œë¬¼</label>
                                {formData.deliverables.map((item, index) => (
                                    <div key={index} className="flex items-center gap-2">
                                        <input type="text" value={item} onChange={(e) => handleDeliverableChange(index, e.target.value)} className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" />
                                        <button type="button" onClick={() => removeDeliverable(index)} className="p-2 text-slate-500 hover:text-rose-400"><XMarkIcon className="h-5 w-5"/></button>
                                    </div>
                                ))}
                                <button type="button" onClick={addDeliverable} className="text-sm font-semibold text-fuchsia-400 hover:text-fuchsia-300 flex items-center space-x-1"><PlusIcon className="h-4 w-4"/><span>ì‚°ì¶œë¬¼ ì¶”ê°€</span></button>
                            </div>
                            <div className="space-y-2">
                                <label htmlFor="projectValue" className="font-semibold text-slate-300">ì´ ê³„ì•½ ê¸ˆì•¡ (VAT ë³„ë„)</label>
                                <div className="relative">
                                     <input type="text" id="projectValue" name="projectValue" value={formData.projectValue.toLocaleString('ko-KR')} onChange={handleFormChange} className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 pl-8 focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" />
                                     <span className="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">â‚©</span>
                                </div>
                                <p className="text-right text-sm text-slate-400">ê¸ˆ {numberToKoreanWon(formData.projectValue)} ì›ì •</p>
                            </div>
                            <div className="grid md:grid-cols-2 gap-6">
                                <div className="space-y-2">
                                    <label htmlFor="startDate" className="font-semibold text-slate-300">ì‹œì‘ì¼</label>
                                    <input type="date" id="startDate" name="startDate" value={formData.startDate} onChange={handleFormChange} className="w-full bg-slate-800 border border-slate-700 rounded-md p-3 focus:ring-2 focus:ring-fuchsia-500 focus:border-fuchsia-500" />
                                </div>
                                <div className="space-y-2">
                                    <label htmlFor="endDate" className="font-semibold text-slate-300">ì¢…ë£Œì¼</label>
                                    <input type="date" id="endDate" name="endDate" value={formData.endDate} onChange={handleFormChange} className={`w-full bg-slate-800 border rounded-md p-3 transition-colors ${dateError ? 'border-rose-500 focus:ring-rose-500 focus:border-rose-500' : 'border-slate-700 focus:ring-fuchsia-500 focus:border-fuchsia-500'}`} />
                                </div>
                            </div>
                            {dateError && <p className="text-sm text-rose-400 -mt-4 text-center">{dateError}</p>}
                            <div className="flex justify-end">
                                <button 
                                  onClick={() => setStep(2)} 
                                  disabled={!!dateError}
                                  className="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-bold rounded-full text-white bg-gradient-to-r from-fuchsia-600 to-pink-600 hover:from-fuchsia-700 hover:to-pink-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100">
                                    ë‹¤ìŒ: ì„¸ë¶€ ì¡°í•­ ì‘ì„±
                                </button>
                            </div>
                        </div>
                    )}
                    
                    {/* Step 2: Clauses */}
                    {step === 2 && (
                        <div className="bg-slate-800/50 p-8 rounded-2xl border border-slate-700 space-y-8 animate-fade-in">
                           <div>
                                <h2 className="text-2xl font-bold text-slate-100 mb-1">ì„¸ë¶€ ì¡°í•­ ì‘ì„±</h2>
                                <p className="text-slate-400">ë¶„ìŸì„ ë§‰ëŠ” í•µì‹¬ ì¡°í•­ë“¤ì„ ê¼¼ê¼¼í•˜ê²Œ ì‘ì„±í•´ ë³´ì„¸ìš”.</p>
                            </div>
                            <div className="space-y-6">
                               <ClauseField clauseKey="scope" title="ì‘ì—… ë²”ìœ„" icon={<ScopeIcon />} />
                               <ClauseField clauseKey="revisions" title="ìˆ˜ì •" icon={<RevisionsIcon />} />
                               <ClauseField clauseKey="payment" title="ëŒ€ê¸ˆ ì§€ê¸‰" icon={<DollarIcon />} />
                               <ClauseField clauseKey="ip" title="ì €ì‘ê¶Œ" icon={<IPRightsIcon />} />
                               <ClauseField clauseKey="termination" title="ê³„ì•½ í•´ì§€" icon={<TerminationIcon />} />
                               <ClauseField clauseKey="feedback" title="í”¼ë“œë°± ë° ì†Œí†µ" icon={<FeedbackIcon />} />
                               <ClauseField clauseKey="review" title="ê¸°íƒ€" icon={<PencilSquareIcon />} />
                           </div>
                            <div className="flex justify-between">
                                <button onClick={() => setStep(1)} className="inline-flex items-center justify-center px-6 py-3 border border-slate-600 text-base font-bold rounded-full text-slate-300 bg-slate-800 hover:bg-slate-700 transition-colors">ì´ì „</button>
                                <button onClick={() => setStep(3)} className="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-bold rounded-full text-white bg-gradient-to-r from-fuchsia-600 to-pink-600 hover:from-fuchsia-700 hover:to-pink-700 transition-all transform hover:scale-105">ë‹¤ìŒ: ê³„ì•½ì„œ ê²€í† </button>
                            </div>
                        </div>
                    )}

                    {/* Step 3: Preview */}
                    {step === 3 && (
                        <div className="bg-slate-800/50 p-8 rounded-2xl border border-slate-700 animate-fade-in">
                             <div>
                                <h2 className="text-2xl font-bold text-slate-100 mb-1">ê³„ì•½ì„œ ê²€í†  ë° ì™„ì„±</h2>
                                <p className="text-slate-400">ìµœì¢… ë‚´ìš©ì„ í™•ì¸í•˜ê³  ê³„ì•½ì„ ì™„ì„±í•˜ì„¸ìš”.</p>
                            </div>
                            <div className="mt-8 p-6 bg-slate-900 border border-slate-700 rounded-lg max-h-[60vh] overflow-y-auto">
                                <pre className="whitespace-pre-wrap font-sans text-sm text-slate-200 leading-relaxed">
                                    {generateContractText()}
                                </pre>
                            </div>
                            <div className="mt-8 flex flex-wrap gap-4 justify-center">
                                <button className="flex items-center justify-center px-5 py-2 border border-slate-600 text-sm font-bold rounded-full text-slate-300 bg-slate-800 hover:bg-slate-700 transition-colors"><ClipboardIcon className="h-5 w-5 mr-2" /> ë³¸ë¬¸ ë³µì‚¬</button>
                                <button className="flex items-center justify-center px-5 py-2 border border-slate-600 text-sm font-bold rounded-full text-slate-300 bg-slate-800 hover:bg-slate-700 transition-colors"><PrinterIcon className="h-5 w-5 mr-2" /> ì¸ì‡„</button>
                                <button className="flex items-center justify-center px-5 py-2 border border-slate-600 text-sm font-bold rounded-full text-slate-300 bg-slate-800 hover:bg-slate-700 transition-colors"><ShareIcon className="h-5 w-5 mr-2" /> ê³µìœ  ë§í¬ ìƒì„±</button>
                            </div>
                            <div className="mt-12 flex justify-between">
                                 <button onClick={() => setStep(2)} className="inline-flex items-center justify-center px-6 py-3 border border-slate-600 text-base font-bold rounded-full text-slate-300 bg-slate-800 hover:bg-slate-700 transition-colors">ì´ì „</button>
                                <button className="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-bold rounded-full text-white bg-gradient-to-r from-fuchsia-600 to-pink-600 hover:from-fuchsia-700 hover:to-pink-700 transition-all transform hover:scale-105">
                                    <SignatureIcon className="h-5 w-5 mr-2"/>
                                    ì „ì ì„œëª… ìš”ì²­
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            </div>
            
            {/* Modal */}
            {modalClause && (
                <div className="fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in-fast">
                    <div className="bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl max-w-2xl w-full m-4 max-h-[90vh] flex flex-col">
                        <div className="p-6 border-b border-slate-700 flex justify-between items-center">
                            <h3 className="text-xl font-bold text-slate-100 flex items-center space-x-2">
                                <LightBulbIcon className="h-6 w-6 text-fuchsia-400" />
                                <span>ì „ë¬¸ê°€ ì¶”ì²œ ì¡°í•­</span>
                            </h3>
                            <button onClick={() => setModalClause(null)} className="p-1 text-slate-500 hover:text-white"><XMarkIcon className="h-6 w-6"/></button>
                        </div>
                        <div className="p-6 overflow-y-auto">
                            {(clauseGuidance[formData.task as keyof typeof clauseGuidance] as any)?.[modalClause]?.map((item: any, index: number) => (
                                <div key={index} className="mb-6 last:mb-0">
                                    <h4 className="font-bold text-lg text-fuchsia-400">{item.title}</h4>
                                    <div className="mt-4 p-4 bg-slate-900 rounded-md border border-slate-700">
                                        <pre className="whitespace-pre-wrap font-sans text-sm text-slate-200">{item.suggestion}</pre>
                                    </div>
                                    <div className="mt-4 p-4 bg-slate-800/50 rounded-md border-l-4 border-slate-600">
                                        <pre className="whitespace-pre-wrap font-sans text-sm text-slate-400">{item.rationale}</pre>
                                    </div>
                                    <button onClick={() => setSelectedSuggestion(item.suggestion)} className={`mt-4 w-full p-3 rounded-md text-left font-semibold border-2 transition-all ${selectedSuggestion === item.suggestion ? 'bg-fuchsia-500/20 border-fuchsia-500 text-fuchsia-300' : 'bg-slate-700 border-slate-700 hover:border-slate-600 text-slate-300'}`}>
                                        {selectedSuggestion === item.suggestion ? 'âœ” ì„ íƒë¨' : 'ì´ ì¡°í•­ìœ¼ë¡œ ì„ íƒ'}
                                    </button>
                                </div>
                            ))}
                        </div>
                        <div className="p-6 border-t border-slate-700 bg-slate-800/50 rounded-b-2xl">
                             <button onClick={applySuggestion} className="w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-bold rounded-full text-white bg-fuchsia-600 hover:bg-fuchsia-700 transition-colors">
                                ì„ íƒí•œ ì¡°í•­ ì ìš©í•˜ê¸°
                            </button>
                        </div>
                    </div>
                </div>
            )}
        </div>
    );
};

export default ContractPage;